{"version":3,"file":"griptape-vue.js.es.js","sources":["../node_modules/@vue/devtools-api/lib/esm/env.js","../node_modules/@vue/devtools-api/lib/esm/index.js","../node_modules/@vue/devtools-api/lib/esm/const.js","../node_modules/pinia/dist/pinia.esm-browser.js","../src/modules/wallet.js","../src/components/WalletInfo.vue","../src/assets/wallet.svg","../src/modules/viewing-keys.js","../src/components/ViewingKeyManager.vue","../src/assets/key.svg","../src/modules/state-persist.js","../src/modules/contracts.js","../src/modules/griptape.ts"],"sourcesContent":["export function getDevtoolsGlobalHook() {\n    return getTarget().__VUE_DEVTOOLS_GLOBAL_HOOK__;\n}\nexport function getTarget() {\n    // @ts-ignore\n    return typeof navigator !== 'undefined'\n        ? window\n        : typeof global !== 'undefined'\n            ? global\n            : {};\n}\n","import { getTarget, getDevtoolsGlobalHook } from './env';\nimport { HOOK_SETUP } from './const';\nexport * from './api';\nexport function setupDevtoolsPlugin(pluginDescriptor, setupFn) {\n    const hook = getDevtoolsGlobalHook();\n    if (hook) {\n        hook.emit(HOOK_SETUP, pluginDescriptor, setupFn);\n    }\n    else {\n        const target = getTarget();\n        const list = target.__VUE_DEVTOOLS_PLUGINS__ = target.__VUE_DEVTOOLS_PLUGINS__ || [];\n        list.push({\n            pluginDescriptor,\n            setupFn\n        });\n    }\n}\n","export const HOOK_SETUP = 'devtools-plugin:setup';\n","/*!\n  * pinia v2.0.0-beta.2\n  * (c) 2021 Eduardo San Martin Morote\n  * @license MIT\n  */\nimport { warn, ref, markRaw, getCurrentInstance, inject, provide, computed, reactive, watch, onUnmounted } from 'vue';\nimport { setupDevtoolsPlugin } from '@vue/devtools-api';\n\n/**\r\n * setActivePinia must be called to handle SSR at the top of functions like\r\n * `fetch`, `setup`, `serverPrefetch` and others\r\n */\r\nlet activePinia;\r\n/**\r\n * Sets or unsets the active pinia. Used in SSR and internally when calling\r\n * actions and getters\r\n *\r\n * @param pinia - Pinia instance\r\n */\r\nconst setActivePinia = (pinia) => (activePinia = pinia);\r\n/**\r\n * Get the currently active pinia\r\n */\r\nconst getActivePinia = () => {\r\n    if (!activePinia) {\r\n        warn(`[üçç]: getActivePinia was called with no active Pinia. Did you forget to install pinia?\\n\\n` +\r\n            `const pinia = createPinia()\\n` +\r\n            `app.use(pinia)\\n\\n` +\r\n            `This will fail in production.`);\r\n    }\r\n    return activePinia;\r\n};\r\n/**\r\n * Map of stores based on a Pinia instance. Allows setting and retrieving stores\r\n * for the current running application (with its pinia).\r\n */\r\nconst storesMap = new WeakMap();\r\nconst piniaSymbol = (Symbol('pinia') );\n\nfunction isPlainObject(\r\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\r\no) {\r\n    return (o &&\r\n        typeof o === 'object' &&\r\n        Object.prototype.toString.call(o) === '[object Object]' &&\r\n        typeof o.toJSON !== 'function');\r\n}\r\n// type DeepReadonly<T> = { readonly [P in keyof T]: DeepReadonly<T[P]> }\r\n/**\r\n * Possible types for SubscriptionCallback\r\n */\r\nvar MutationType;\r\n(function (MutationType) {\r\n    /**\r\n     * Direct mutation of the state:\r\n     *\r\n     * - `store.name = 'new name'`\r\n     * - `store.$state.name = 'new name'`\r\n     * - `store.list.push('new item')`\r\n     */\r\n    MutationType[\"direct\"] = \"direct\";\r\n    /**\r\n     * Mutated the state with `$patch` and an object\r\n     *\r\n     * - `store.$patch({ name: 'newName' })`\r\n     */\r\n    MutationType[\"patchObject\"] = \"patch object\";\r\n    /**\r\n     * Mutated the state with `$patch` and a function\r\n     *\r\n     * - `store.$patch(state => state.name = 'newName')`\r\n     */\r\n    MutationType[\"patchFunction\"] = \"patch function\";\r\n    // maybe reset? for $state = {} and $reset\r\n})(MutationType || (MutationType = {}));\n\nvar commonjsGlobal = typeof globalThis !== 'undefined' ? globalThis : typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : {};\n\nvar FileSaver_min = {exports: {}};\n\n(function (module, exports) {\n(function(a,b){b();})(commonjsGlobal,function(){function b(a,b){return \"undefined\"==typeof b?b={autoBom:!1}:\"object\"!=typeof b&&(console.warn(\"Deprecated: Expected third argument to be a object\"),b={autoBom:!b}),b.autoBom&&/^\\s*(?:text\\/\\S*|application\\/xml|\\S*\\/\\S*\\+xml)\\s*;.*charset\\s*=\\s*utf-8/i.test(a.type)?new Blob([\"\\uFEFF\",a],{type:a.type}):a}function c(a,b,c){var d=new XMLHttpRequest;d.open(\"GET\",a),d.responseType=\"blob\",d.onload=function(){g(d.response,b,c);},d.onerror=function(){console.error(\"could not download file\");},d.send();}function d(a){var b=new XMLHttpRequest;b.open(\"HEAD\",a,!1);try{b.send();}catch(a){}return 200<=b.status&&299>=b.status}function e(a){try{a.dispatchEvent(new MouseEvent(\"click\"));}catch(c){var b=document.createEvent(\"MouseEvents\");b.initMouseEvent(\"click\",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),a.dispatchEvent(b);}}var f=\"object\"==typeof window&&window.window===window?window:\"object\"==typeof self&&self.self===self?self:\"object\"==typeof commonjsGlobal&&commonjsGlobal.global===commonjsGlobal?commonjsGlobal:void 0,a=f.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),g=f.saveAs||(\"object\"!=typeof window||window!==f?function(){}:\"download\"in HTMLAnchorElement.prototype&&!a?function(b,g,h){var i=f.URL||f.webkitURL,j=document.createElement(\"a\");g=g||b.name||\"download\",j.download=g,j.rel=\"noopener\",\"string\"==typeof b?(j.href=b,j.origin===location.origin?e(j):d(j.href)?c(b,g,h):e(j,j.target=\"_blank\")):(j.href=i.createObjectURL(b),setTimeout(function(){i.revokeObjectURL(j.href);},4E4),setTimeout(function(){e(j);},0));}:\"msSaveOrOpenBlob\"in navigator?function(f,g,h){if(g=g||f.name||\"download\",\"string\"!=typeof f)navigator.msSaveOrOpenBlob(b(f,h),g);else if(d(f))c(f,g,h);else {var i=document.createElement(\"a\");i.href=f,i.target=\"_blank\",setTimeout(function(){e(i);});}}:function(b,d,e,g){if(g=g||open(\"\",\"_blank\"),g&&(g.document.title=g.document.body.innerText=\"downloading...\"),\"string\"==typeof b)return c(b,d,e);var h=\"application/octet-stream\"===b.type,i=/constructor/i.test(f.HTMLElement)||f.safari,j=/CriOS\\/[\\d]+/.test(navigator.userAgent);if((j||h&&i||a)&&\"undefined\"!=typeof FileReader){var k=new FileReader;k.onloadend=function(){var a=k.result;a=j?a:a.replace(/^data:[^;]*;/,\"data:attachment/file;\"),g?g.location.href=a:location=a,g=null;},k.readAsDataURL(b);}else {var l=f.URL||f.webkitURL,m=l.createObjectURL(b);g?g.location=m:location.href=m,g=null,setTimeout(function(){l.revokeObjectURL(m);},4E4);}});f.saveAs=g.saveAs=g,(module.exports=g);});\n\n\n}(FileSaver_min));\n\n/**\r\n * Shows a toast or console.log\r\n *\r\n * @param message - message to log\r\n * @param type - different color of the tooltip\r\n */\r\nfunction toastMessage(message, type) {\r\n    const piniaMessage = 'üçç ' + message;\r\n    if (typeof __VUE_DEVTOOLS_TOAST__ === 'function') {\r\n        __VUE_DEVTOOLS_TOAST__(piniaMessage, type);\r\n    }\r\n    else if (type === 'error') {\r\n        console.error(piniaMessage);\r\n    }\r\n    else if (type === 'warn') {\r\n        console.warn(piniaMessage);\r\n    }\r\n    else {\r\n        console.log(piniaMessage);\r\n    }\r\n}\n\nfunction checkClipboardAccess() {\r\n    if (!('clipboard' in navigator)) {\r\n        toastMessage(`Your browser doesn't support the Clipboard API`, 'error');\r\n        return true;\r\n    }\r\n}\r\nfunction checkNotFocusedError(error) {\r\n    if (error.message.toLowerCase().includes('document is not focused')) {\r\n        toastMessage('You need to activate the \"Emulate a focused page\" setting in the \"Rendering\" panel of devtools.', 'warn');\r\n        return true;\r\n    }\r\n}\r\nasync function actionGlobalCopyState(pinia) {\r\n    if (checkClipboardAccess())\r\n        return;\r\n    try {\r\n        await navigator.clipboard.writeText(JSON.stringify(pinia.state.value));\r\n        toastMessage('Global state copied to clipboard.');\r\n    }\r\n    catch (error) {\r\n        if (checkNotFocusedError(error))\r\n            return;\r\n        toastMessage(`Failed to serialize the state. Check the console for more details.`, 'error');\r\n        console.error(error);\r\n    }\r\n}\r\nasync function actionGlobalPasteState(pinia) {\r\n    if (checkClipboardAccess())\r\n        return;\r\n    try {\r\n        pinia.state.value = JSON.parse(await navigator.clipboard.readText());\r\n        toastMessage('Global state pasted from clipboard.');\r\n    }\r\n    catch (error) {\r\n        if (checkNotFocusedError(error))\r\n            return;\r\n        toastMessage(`Failed to deserialize the state from clipboard. Check the console for more details.`, 'error');\r\n        console.error(error);\r\n    }\r\n}\r\nasync function actionGlobalSaveState(pinia) {\r\n    try {\r\n        FileSaver_min.exports.saveAs(new Blob([JSON.stringify(pinia.state.value)], {\r\n            type: 'text/plain;charset=utf-8',\r\n        }), 'pinia-state.json');\r\n    }\r\n    catch (error) {\r\n        toastMessage(`Failed to export the state as JSON. Check the console for more details.`, 'error');\r\n        console.error(error);\r\n    }\r\n}\r\nlet fileInput;\r\nfunction getFileOpener() {\r\n    if (!fileInput) {\r\n        fileInput = document.createElement('input');\r\n        fileInput.type = 'file';\r\n        fileInput.accept = '.json';\r\n    }\r\n    function openFile() {\r\n        return new Promise((resolve, reject) => {\r\n            fileInput.onchange = async () => {\r\n                const files = fileInput.files;\r\n                if (!files)\r\n                    return resolve(null);\r\n                const file = files.item(0);\r\n                if (!file)\r\n                    return resolve(null);\r\n                return resolve({ text: await file.text(), file });\r\n            };\r\n            fileInput.oncancel = () => resolve(null);\r\n            fileInput.click();\r\n        });\r\n    }\r\n    return openFile;\r\n}\r\nasync function actionGlobalOpenStateFile(pinia) {\r\n    try {\r\n        const open = await getFileOpener();\r\n        const result = await open();\r\n        if (!result)\r\n            return;\r\n        const { text, file } = result;\r\n        pinia.state.value = JSON.parse(text);\r\n        toastMessage(`Global state imported from \"${file.name}\".`);\r\n    }\r\n    catch (error) {\r\n        toastMessage(`Failed to export the state as JSON. Check the console for more details.`, 'error');\r\n        console.error(error);\r\n    }\r\n}\n\nfunction formatDisplay(display) {\r\n    return {\r\n        _custom: {\r\n            display,\r\n        },\r\n    };\r\n}\r\nconst PINIA_ROOT_LABEL = 'üçç Pinia (root)';\r\nconst PINIA_ROOT_ID = '_root';\r\nfunction formatStoreForInspectorTree(store) {\r\n    return '$id' in store\r\n        ? {\r\n            id: store.$id,\r\n            label: store.$id,\r\n        }\r\n        : {\r\n            id: PINIA_ROOT_ID,\r\n            label: PINIA_ROOT_LABEL,\r\n        };\r\n}\r\nfunction formatStoreForInspectorState(store) {\r\n    if (!('$id' in store)) {\r\n        const state = {\r\n            state: Object.keys(store.state.value).map((storeId) => ({\r\n                editable: true,\r\n                key: storeId,\r\n                value: store.state.value[storeId],\r\n            })),\r\n        };\r\n        // TODO: use this version when possible\r\n        // Object.keys(store.state.value).forEach((storeId) => {\r\n        //   const currentState = store.state.value[storeId]\r\n        //   state[storeId] = Object.keys(currentState).map((key) => ({\r\n        //     // is not possible to made editable because no way to get the storeId in\r\n        //     // edit inspector state callback\r\n        //     editable: false,\r\n        //     key,\r\n        //     value: currentState[key],\r\n        //   }))\r\n        // })\r\n        return state;\r\n    }\r\n    const state = {\r\n        state: Object.keys(store.$state).map((key) => ({\r\n            editable: true,\r\n            key,\r\n            // @ts-expect-error\r\n            value: store.$state[key],\r\n        })),\r\n    };\r\n    // avoid adding empty getters\r\n    if (store._getters && store._getters.length) {\r\n        state.getters = store._getters.map((getterName) => ({\r\n            editable: false,\r\n            key: getterName,\r\n            // @ts-expect-error\r\n            value: store[getterName],\r\n        }));\r\n    }\r\n    return state;\r\n}\r\nfunction formatEventData(events) {\r\n    if (!events)\r\n        return {};\r\n    if (Array.isArray(events)) {\r\n        // TODO: handle add and delete for arrays and objects\r\n        return events.reduce((data, event) => {\r\n            data.keys.push(event.key);\r\n            data.operations.push(event.type);\r\n            data.oldValue[event.key] = event.oldValue;\r\n            data.newValue[event.key] = event.newValue;\r\n            return data;\r\n        }, {\r\n            oldValue: {},\r\n            keys: [],\r\n            operations: [],\r\n            newValue: {},\r\n        });\r\n    }\r\n    else {\r\n        return {\r\n            operation: formatDisplay(events.type),\r\n            key: formatDisplay(events.key),\r\n            oldValue: events.oldValue,\r\n            newValue: events.newValue,\r\n        };\r\n    }\r\n}\r\nfunction formatMutationType(type) {\r\n    switch (type) {\r\n        case MutationType.direct:\r\n            return 'mutation';\r\n        case MutationType.patchFunction:\r\n            return '$patch';\r\n        case MutationType.patchObject:\r\n            return '$patch';\r\n        default:\r\n            return 'unknown';\r\n    }\r\n}\n\n/**\r\n * Registered stores used for devtools.\r\n */\r\nconst registeredStores = /*#__PURE__*/ new Map();\r\nlet isAlreadyInstalled;\r\n// timeline can be paused when directly changing the state\r\nlet isTimelineActive = true;\r\nconst componentStateTypes = [];\r\nconst MUTATIONS_LAYER_ID = 'pinia:mutations';\r\nconst INSPECTOR_ID = 'pinia';\r\nfunction addDevtools(app, store) {\r\n    // TODO: we probably need to ensure the latest version of the store is kept:\r\n    // without effectScope, multiple stores will be created and will have a\r\n    // limited lifespan for getters.\r\n    // add a dev only variable that is removed in unmounted and replace the store\r\n    let hasSubscribed = true;\r\n    if (!registeredStores.has(store.$id)) {\r\n        registeredStores.set(store.$id, store);\r\n        componentStateTypes.push('üçç ' + store.$id);\r\n        hasSubscribed = false;\r\n        console.log('registing for the first time');\r\n    }\r\n    setupDevtoolsPlugin({\r\n        id: 'dev.esm.pinia',\r\n        label: 'Pinia üçç',\r\n        logo: 'https://pinia.esm.dev/logo.svg',\r\n        packageName: 'pinia',\r\n        homepage: 'https://pinia.esm.dev',\r\n        componentStateTypes,\r\n        app,\r\n    }, (api) => {\r\n        if (!isAlreadyInstalled) {\r\n            api.addTimelineLayer({\r\n                id: MUTATIONS_LAYER_ID,\r\n                label: `Pinia üçç`,\r\n                color: 0xe5df88,\r\n            });\r\n            api.addInspector({\r\n                id: INSPECTOR_ID,\r\n                label: 'Pinia üçç',\r\n                icon: 'storage',\r\n                treeFilterPlaceholder: 'Search stores',\r\n                actions: [\r\n                    {\r\n                        icon: 'content_copy',\r\n                        action: () => {\r\n                            actionGlobalCopyState(store._p);\r\n                        },\r\n                        tooltip: 'Serialize and copy the state',\r\n                    },\r\n                    {\r\n                        icon: 'content_paste',\r\n                        action: async () => {\r\n                            await actionGlobalPasteState(store._p);\r\n                            api.sendInspectorTree(INSPECTOR_ID);\r\n                            api.sendInspectorState(INSPECTOR_ID);\r\n                        },\r\n                        tooltip: 'Replace the state with the content of your clipboard',\r\n                    },\r\n                    {\r\n                        icon: 'save',\r\n                        action: () => {\r\n                            actionGlobalSaveState(store._p);\r\n                        },\r\n                        tooltip: 'Save the state as a JSON file',\r\n                    },\r\n                    {\r\n                        icon: 'folder_open',\r\n                        action: async () => {\r\n                            await actionGlobalOpenStateFile(store._p);\r\n                            api.sendInspectorTree(INSPECTOR_ID);\r\n                            api.sendInspectorState(INSPECTOR_ID);\r\n                        },\r\n                        tooltip: 'Import the state from a JSON file',\r\n                    },\r\n                ],\r\n            });\r\n            api.on.inspectComponent((payload, ctx) => {\r\n                const proxy = (payload.componentInstance &&\r\n                    payload.componentInstance.proxy);\r\n                if (proxy && proxy._pStores) {\r\n                    const piniaStores = payload.componentInstance.proxy._pStores;\r\n                    Object.values(piniaStores).forEach((store) => {\r\n                        payload.instanceData.state.push({\r\n                            type: 'üçç ' + store.$id,\r\n                            key: 'state',\r\n                            editable: true,\r\n                            value: store.$state,\r\n                        });\r\n                        if (store._getters && store._getters.length) {\r\n                            payload.instanceData.state.push({\r\n                                type: 'üçç ' + store.$id,\r\n                                key: 'getters',\r\n                                editable: false,\r\n                                value: store._getters.reduce((getters, key) => {\r\n                                    // @ts-expect-error\r\n                                    getters[key] = store[key];\r\n                                    return getters;\r\n                                }, {}),\r\n                            });\r\n                        }\r\n                    });\r\n                }\r\n            });\r\n            api.on.getInspectorTree((payload) => {\r\n                if (payload.app === app && payload.inspectorId === INSPECTOR_ID) {\r\n                    let stores = [store._p];\r\n                    stores = stores.concat(Array.from(registeredStores.values()));\r\n                    payload.rootNodes = (payload.filter\r\n                        ? stores.filter((store) => '$id' in store\r\n                            ? store.$id\r\n                                .toLowerCase()\r\n                                .includes(payload.filter.toLowerCase())\r\n                            : PINIA_ROOT_LABEL.toLowerCase().includes(payload.filter.toLowerCase()))\r\n                        : stores).map(formatStoreForInspectorTree);\r\n                }\r\n            });\r\n            api.on.getInspectorState((payload) => {\r\n                if (payload.app === app && payload.inspectorId === INSPECTOR_ID) {\r\n                    const inspectedStore = payload.nodeId === PINIA_ROOT_ID\r\n                        ? store._p\r\n                        : registeredStores.get(payload.nodeId);\r\n                    if (!inspectedStore) {\r\n                        return toastMessage(`store \"${payload.nodeId}\" not found`, 'error');\r\n                    }\r\n                    if (inspectedStore) {\r\n                        payload.state = formatStoreForInspectorState(inspectedStore);\r\n                    }\r\n                }\r\n            });\r\n            api.on.editInspectorState((payload, ctx) => {\r\n                if (payload.app === app && payload.inspectorId === INSPECTOR_ID) {\r\n                    const inspectedStore = payload.nodeId === PINIA_ROOT_ID\r\n                        ? store._p\r\n                        : registeredStores.get(payload.nodeId);\r\n                    if (!inspectedStore) {\r\n                        return toastMessage(`store \"${payload.nodeId}\" not found`, 'error');\r\n                    }\r\n                    const { path } = payload;\r\n                    if ('$id' in inspectedStore) {\r\n                        // access only the state\r\n                        path.unshift('$state');\r\n                    }\r\n                    else {\r\n                        path.unshift('state', 'value');\r\n                    }\r\n                    isTimelineActive = false;\r\n                    payload.set(inspectedStore, path, payload.state.value);\r\n                    isTimelineActive = true;\r\n                }\r\n            });\r\n            api.on.editComponentState((payload) => {\r\n                if (payload.type.startsWith('üçç')) {\r\n                    const storeId = payload.type.replace(/^üçç\\s*/, '');\r\n                    const store = registeredStores.get(storeId);\r\n                    if (!store) {\r\n                        return toastMessage(`store \"${storeId}\" not found`, 'error');\r\n                    }\r\n                    const { path } = payload;\r\n                    if (path[0] !== 'state') {\r\n                        return toastMessage(`Invalid path for store \"${storeId}\":\\n${path}\\nOnly state can be modified.`);\r\n                    }\r\n                    // rewrite the first entry to be able to directly set the state as\r\n                    // well as any other path\r\n                    path[0] = '$state';\r\n                    isTimelineActive = false;\r\n                    payload.set(store, path, payload.state.value);\r\n                    isTimelineActive = true;\r\n                }\r\n            });\r\n            isAlreadyInstalled = true;\r\n        }\r\n        else {\r\n            api.sendInspectorTree(INSPECTOR_ID);\r\n            api.sendInspectorState(INSPECTOR_ID);\r\n        }\r\n        // avoid subscribing to mutations and actions twice\r\n        if (hasSubscribed)\r\n            return;\r\n        store.$onAction(({ after, onError, name, args, store }) => {\r\n            const groupId = runningActionId++;\r\n            api.addTimelineEvent({\r\n                layerId: MUTATIONS_LAYER_ID,\r\n                event: {\r\n                    time: Date.now(),\r\n                    title: 'üõ´ ' + name,\r\n                    subtitle: 'start',\r\n                    data: {\r\n                        action: formatDisplay(name),\r\n                        args,\r\n                    },\r\n                    groupId,\r\n                },\r\n            });\r\n            after((result) => {\r\n                api.addTimelineEvent({\r\n                    layerId: MUTATIONS_LAYER_ID,\r\n                    event: {\r\n                        time: Date.now(),\r\n                        title: 'üõ¨ ' + name,\r\n                        subtitle: 'end',\r\n                        data: {\r\n                            action: formatDisplay(name),\r\n                            args,\r\n                            result,\r\n                        },\r\n                        groupId,\r\n                    },\r\n                });\r\n            });\r\n            onError((error) => {\r\n                api.addTimelineEvent({\r\n                    layerId: MUTATIONS_LAYER_ID,\r\n                    event: {\r\n                        time: Date.now(),\r\n                        logType: 'error',\r\n                        title: 'üí• ' + name,\r\n                        subtitle: 'end',\r\n                        data: {\r\n                            action: formatDisplay(name),\r\n                            args,\r\n                            error,\r\n                        },\r\n                        groupId,\r\n                    },\r\n                });\r\n            });\r\n        });\r\n        store.$subscribe(({ events, type }, state) => {\r\n            if (!isTimelineActive)\r\n                return;\r\n            // rootStore.state[store.id] = state\r\n            api.notifyComponentUpdate();\r\n            api.sendInspectorState(INSPECTOR_ID);\r\n            const eventData = {\r\n                time: Date.now(),\r\n                title: formatMutationType(type),\r\n                data: formatEventData(events),\r\n                groupId: activeAction,\r\n            };\r\n            // reset for the next mutation\r\n            activeAction = undefined;\r\n            if (type === MutationType.patchFunction) {\r\n                eventData.subtitle = '‚§µÔ∏è';\r\n            }\r\n            else if (type === MutationType.patchObject) {\r\n                eventData.subtitle = 'üß©';\r\n            }\r\n            else if (events && !Array.isArray(events)) {\r\n                eventData.subtitle = events.type;\r\n            }\r\n            if (events) {\r\n                eventData.data['rawEvent(s)'] = {\r\n                    _custom: {\r\n                        display: 'DebuggerEvent',\r\n                        type: 'object',\r\n                        tooltip: 'raw DebuggerEvent[]',\r\n                        value: events,\r\n                    },\r\n                };\r\n            }\r\n            api.addTimelineEvent({\r\n                layerId: MUTATIONS_LAYER_ID,\r\n                event: eventData,\r\n            });\r\n        });\r\n        // trigger an update so it can display new registered stores\r\n        // @ts-ignore\r\n        api.notifyComponentUpdate();\r\n        toastMessage(`\"${store.$id}\" store installed`);\r\n    });\r\n}\r\nlet runningActionId = 0;\r\nlet activeAction;\r\n/**\r\n * pinia.use(devtoolsPlugin)\r\n */\r\nfunction devtoolsPlugin({ app, store, options, pinia }) {\r\n    const wrappedActions = {};\r\n    // original actions of the store as they are given by pinia. We are going to override them\r\n    const actions = Object.keys(options.actions || {}).reduce((storeActions, actionName) => {\r\n        // @ts-expect-error\r\n        storeActions[actionName] = store[actionName];\r\n        return storeActions;\r\n    }, {});\r\n    for (const actionName in actions) {\r\n        // @ts-expect-error\r\n        wrappedActions[actionName] = function () {\r\n            setActivePinia(pinia);\r\n            // the running action id is incremented in a before action hook\r\n            const _actionId = runningActionId;\r\n            const trackedStore = new Proxy(store, {\r\n                get(...args) {\r\n                    activeAction = _actionId;\r\n                    return Reflect.get(...args);\r\n                },\r\n                set(...args) {\r\n                    activeAction = _actionId;\r\n                    return Reflect.set(...args);\r\n                },\r\n            });\r\n            return actions[actionName].apply(trackedStore, arguments);\r\n        };\r\n    }\r\n    addDevtools(app, \r\n    // @ts-expect-error: FIXME: if possible...\r\n    store);\r\n    return { ...wrappedActions };\r\n}\n\nconst IS_CLIENT = typeof window !== 'undefined';\n\n/**\r\n * Creates a Pinia instance to be used by the application\r\n */\r\nfunction createPinia() {\r\n    // NOTE: here we could check the window object for a state and directly set it\r\n    // if there is anything like it with Vue 3 SSR\r\n    const state = ref({});\r\n    let localApp;\r\n    let _p = [];\r\n    // plugins added before calling app.use(pinia)\r\n    const toBeInstalled = [];\r\n    const pinia = markRaw({\r\n        install(app) {\r\n            pinia._a = localApp = app;\r\n            app.provide(piniaSymbol, pinia);\r\n            app.config.globalProperties.$pinia = pinia;\r\n            if (IS_CLIENT) {\r\n                // this allows calling useStore() outside of a component setup after\r\n                // installing pinia's plugin\r\n                setActivePinia(pinia);\r\n            }\r\n            toBeInstalled.forEach((plugin) => _p.push(plugin));\r\n        },\r\n        use(plugin) {\r\n            if (!localApp) {\r\n                toBeInstalled.push(plugin);\r\n            }\r\n            else {\r\n                _p.push(plugin);\r\n            }\r\n            return this;\r\n        },\r\n        _p,\r\n        // it's actually undefined here\r\n        _a: localApp,\r\n        state,\r\n    });\r\n    // pinia devtools rely on dev only features so they cannot be forced unless\r\n    // the dev build of Vue is used\r\n    if (IS_CLIENT) {\r\n        pinia.use(devtoolsPlugin);\r\n    }\r\n    return pinia;\r\n}\n\nfunction innerPatch(target, patchToApply) {\r\n    // TODO: get all keys like symbols as well\r\n    for (const key in patchToApply) {\r\n        const subPatch = patchToApply[key];\r\n        const targetValue = target[key];\r\n        if (isPlainObject(targetValue) && isPlainObject(subPatch)) {\r\n            target[key] = innerPatch(targetValue, subPatch);\r\n        }\r\n        else {\r\n            // @ts-ignore\r\n            target[key] = subPatch;\r\n        }\r\n    }\r\n    return target;\r\n}\r\nconst { assign } = Object;\r\n/**\r\n * Create an object of computed properties referring to\r\n *\r\n * @param rootStateRef - pinia.state\r\n * @param id - unique name\r\n */\r\nfunction computedFromState(rootStateRef, id) {\r\n    // let asComputed = computed<T>()\r\n    const reactiveObject = {};\r\n    const state = rootStateRef.value[id];\r\n    for (const key in state) {\r\n        // @ts-expect-error: the key matches\r\n        reactiveObject[key] = computed({\r\n            get: () => rootStateRef.value[id][key],\r\n            set: (value) => (rootStateRef.value[id][key] = value),\r\n        });\r\n    }\r\n    return reactiveObject;\r\n}\r\n/**\r\n * Creates a store with its state object. This is meant to be augmented with getters and actions\r\n *\r\n * @param id - unique identifier of the store, like a name. eg: main, cart, user\r\n * @param buildState - function to build the initial state\r\n * @param initialState - initial state applied to the store, Must be correctly typed to infer typings\r\n */\r\nfunction initStore($id, buildState = () => ({}), initialState) {\r\n    const pinia = getActivePinia();\r\n    pinia.state.value[$id] = initialState || buildState();\r\n    // const state: Ref<S> = toRef(_p.state.value, $id)\r\n    let isListening = true;\r\n    let subscriptions = markRaw([]);\r\n    let actionSubscriptions = markRaw([]);\r\n    let debuggerEvents;\r\n    function $patch(partialStateOrMutator) {\r\n        let subscriptionMutation;\r\n        isListening = false;\r\n        // reset the debugger events since patches are sync\r\n        /* istanbul ignore else */\r\n        {\r\n            debuggerEvents = [];\r\n        }\r\n        if (typeof partialStateOrMutator === 'function') {\r\n            partialStateOrMutator(pinia.state.value[$id]);\r\n            subscriptionMutation = {\r\n                type: MutationType.patchFunction,\r\n                storeId: $id,\r\n                events: debuggerEvents,\r\n            };\r\n        }\r\n        else {\r\n            innerPatch(pinia.state.value[$id], partialStateOrMutator);\r\n            subscriptionMutation = {\r\n                type: MutationType.patchObject,\r\n                payload: partialStateOrMutator,\r\n                storeId: $id,\r\n                events: debuggerEvents,\r\n            };\r\n        }\r\n        isListening = true;\r\n        // because we paused the watcher, we need to manually call the subscriptions\r\n        subscriptions.forEach((callback) => {\r\n            callback(subscriptionMutation, pinia.state.value[$id]);\r\n        });\r\n    }\r\n    function $subscribe(callback) {\r\n        subscriptions.push(callback);\r\n        // watch here to link the subscription to the current active instance\r\n        // e.g. inside the setup of a component\r\n        const options = { deep: true, flush: 'sync' };\r\n        /* istanbul ignore else */\r\n        {\r\n            options.onTrigger = (event) => {\r\n                if (isListening) {\r\n                    debuggerEvents = event;\r\n                }\r\n                else {\r\n                    // let patch send all the events together later\r\n                    /* istanbul ignore else */\r\n                    if (Array.isArray(debuggerEvents)) {\r\n                        debuggerEvents.push(event);\r\n                    }\r\n                    else {\r\n                        console.error('üçç debuggerEvents should be an array. This is most likely an internal Pinia bug.');\r\n                    }\r\n                }\r\n            };\r\n        }\r\n        const stopWatcher = watch(() => pinia.state.value[$id], (state, oldState) => {\r\n            if (isListening) {\r\n                callback({\r\n                    storeId: $id,\r\n                    type: MutationType.direct,\r\n                    events: debuggerEvents,\r\n                }, state);\r\n            }\r\n        }, options);\r\n        const removeSubscription = () => {\r\n            const idx = subscriptions.indexOf(callback);\r\n            if (idx > -1) {\r\n                subscriptions.splice(idx, 1);\r\n                stopWatcher();\r\n            }\r\n        };\r\n        if (getCurrentInstance()) {\r\n            onUnmounted(removeSubscription);\r\n        }\r\n        return removeSubscription;\r\n    }\r\n    function $onAction(callback) {\r\n        actionSubscriptions.push(callback);\r\n        const removeSubscription = () => {\r\n            const idx = actionSubscriptions.indexOf(callback);\r\n            if (idx > -1) {\r\n                actionSubscriptions.splice(idx, 1);\r\n            }\r\n        };\r\n        if (getCurrentInstance()) {\r\n            onUnmounted(removeSubscription);\r\n        }\r\n        return removeSubscription;\r\n    }\r\n    function $reset() {\r\n        pinia.state.value[$id] = buildState();\r\n    }\r\n    const storeWithState = {\r\n        $id,\r\n        _p: pinia,\r\n        _as: actionSubscriptions,\r\n        // $state is added underneath\r\n        $patch,\r\n        $subscribe,\r\n        $onAction,\r\n        $reset,\r\n    };\r\n    const injectionSymbol = Symbol(`PiniaStore(${$id})`)\r\n        ;\r\n    return [\r\n        storeWithState,\r\n        {\r\n            get: () => pinia.state.value[$id],\r\n            set: (newState) => {\r\n                isListening = false;\r\n                pinia.state.value[$id] = newState;\r\n                isListening = true;\r\n            },\r\n        },\r\n        injectionSymbol,\r\n    ];\r\n}\r\nconst noop = () => { };\r\n/**\r\n * Creates a store bound to the lifespan of where the function is called. This\r\n * means creating the store inside of a component's setup will bound it to the\r\n * lifespan of that component while creating it outside of a component will\r\n * create an ever living store\r\n *\r\n * @param partialStore - store with state returned by initStore\r\n * @param descriptor - descriptor to setup $state property\r\n * @param $id - unique name of the store\r\n * @param getters - getters of the store\r\n * @param actions - actions of the store\r\n */\r\nfunction buildStoreToUse(partialStore, descriptor, $id, getters = {}, actions = {}, options) {\r\n    const pinia = getActivePinia();\r\n    const computedGetters = {};\r\n    for (const getterName in getters) {\r\n        // @ts-ignore: it's only readonly for the users\r\n        computedGetters[getterName] = computed(() => {\r\n            setActivePinia(pinia);\r\n            // eslint-disable-next-line @typescript-eslint/no-use-before-define\r\n            // @ts-expect-error: the argument count is correct\r\n            return getters[getterName].call(store, store);\r\n        });\r\n    }\r\n    const wrappedActions = {};\r\n    for (const actionName in actions) {\r\n        wrappedActions[actionName] = function () {\r\n            setActivePinia(pinia);\r\n            const args = Array.from(arguments);\r\n            const localStore = this || store;\r\n            let afterCallback = noop;\r\n            let onErrorCallback = noop;\r\n            function after(callback) {\r\n                afterCallback = callback;\r\n            }\r\n            function onError(callback) {\r\n                onErrorCallback = callback;\r\n            }\r\n            partialStore._as.forEach((callback) => {\r\n                // @ts-expect-error\r\n                callback({ args, name: actionName, store: localStore, after, onError });\r\n            });\r\n            let ret;\r\n            try {\r\n                ret = actions[actionName].apply(localStore, args);\r\n                Promise.resolve(ret).then(afterCallback).catch(onErrorCallback);\r\n            }\r\n            catch (error) {\r\n                onErrorCallback(error);\r\n                throw error;\r\n            }\r\n            return ret;\r\n        };\r\n    }\r\n    const store = reactive(assign({}, partialStore, \r\n    // using this means no new properties can be added as state\r\n    computedFromState(pinia.state, $id), computedGetters, wrappedActions));\r\n    // use this instead of a computed with setter to be able to create it anywhere\r\n    // without linking the computed lifespan to wherever the store is first\r\n    // created.\r\n    Object.defineProperty(store, '$state', descriptor);\r\n    // add getters for devtools\r\n    if (IS_CLIENT) {\r\n        store._getters = markRaw(Object.keys(getters));\r\n    }\r\n    // apply all plugins\r\n    pinia._p.forEach((extender) => {\r\n        // @ts-expect-error: conflict between A and ActionsTree\r\n        assign(store, extender({ store, app: pinia._a, pinia, options }));\r\n    });\r\n    return store;\r\n}\r\n/**\r\n * Creates a `useStore` function that retrieves the store instance\r\n * @param options - options to define the store\r\n */\r\nfunction defineStore(options) {\r\n    const { id, state, getters, actions } = options;\r\n    function useStore(pinia) {\r\n        const currentInstance = getCurrentInstance();\r\n        // only run provide when pinia hasn't been manually passed\r\n        const shouldProvide = currentInstance && !pinia;\r\n        // avoid injecting if `useStore` when not possible\r\n        pinia = pinia || (currentInstance && inject(piniaSymbol));\r\n        if (pinia)\r\n            setActivePinia(pinia);\r\n        // TODO: worth warning on server if no piniaKey as it can leak data\r\n        pinia = getActivePinia();\r\n        let stores = storesMap.get(pinia);\r\n        if (!stores)\r\n            storesMap.set(pinia, (stores = new Map()));\r\n        let storeAndDescriptor = stores.get(id);\r\n        let store;\r\n        if (!storeAndDescriptor) {\r\n            storeAndDescriptor = initStore(id, state, pinia.state.value[id]);\r\n            // @ts-expect-error: annoying to type\r\n            stores.set(id, storeAndDescriptor);\r\n            store = buildStoreToUse(storeAndDescriptor[0], storeAndDescriptor[1], id, getters, actions, options);\r\n            // allow children to reuse this store instance to avoid creating a new\r\n            // store for each child\r\n            if (shouldProvide) {\r\n                provide(storeAndDescriptor[2], store);\r\n            }\r\n        }\r\n        else {\r\n            store =\r\n                (currentInstance && inject(storeAndDescriptor[2], null)) ||\r\n                    buildStoreToUse(storeAndDescriptor[0], storeAndDescriptor[1], id, getters, actions, options);\r\n        }\r\n        // save stores in instances to access them devtools\r\n        if (IS_CLIENT && currentInstance && currentInstance.proxy) {\r\n            const vm = currentInstance.proxy;\r\n            const cache = '_pStores' in vm ? vm._pStores : (vm._pStores = {});\r\n            // @ts-expect-error: still can't cast Store with generics to Store\r\n            cache[store.$id] = store;\r\n        }\r\n        return store;\r\n    }\r\n    // needed by map helpers\r\n    useStore.$id = id;\r\n    return useStore;\r\n}\n\nfunction getCachedStore(vm, useStore) {\r\n    const cache = '_pStores' in vm ? vm._pStores : (vm._pStores = {});\r\n    const id = useStore.$id;\r\n    return (cache[id] ||\r\n        (cache[id] = useStore(vm.$pinia)));\r\n}\r\nlet mapStoreSuffix = 'Store';\r\n/**\r\n * Changes the suffix added by `mapStores()`. Can be set to an empty string.\r\n * Defaults to `\"Store\"`. Make sure to extend the MapStoresCustomization\r\n * interface if you need are using TypeScript.\r\n *\r\n * @param suffix - new suffix\r\n */\r\nfunction setMapStoreSuffix(suffix // could be 'Store' but that would be annoying for JS\r\n) {\r\n    mapStoreSuffix = suffix;\r\n}\r\n/**\r\n * Allows using stores without the composition API (`setup()`) by generating an\r\n * object to be spread in the `computed` field of a component. It accepts a list\r\n * of store definitions.\r\n *\r\n * @example\r\n * ```js\r\n * export default {\r\n *   computed: {\r\n *     // other computed properties\r\n *     ...mapStores(useUserStore, useCartStore)\r\n *   },\r\n *\r\n *   created() {\r\n *     this.userStore // store with id \"user\"\r\n *     this.cartStore // store with id \"cart\"\r\n *   }\r\n * }\r\n * ```\r\n *\r\n * @param stores - list of stores to map to an object\r\n */\r\nfunction mapStores(...stores) {\r\n    if (Array.isArray(stores[0])) {\r\n        console.warn(`[üçç]: Directly pass all stores to \"mapStores()\" without putting them in an array:\\n` +\r\n            `Replace\\n` +\r\n            `\\tmapStores([useAuthStore, useCartStore])\\n` +\r\n            `with\\n` +\r\n            `\\tmapStores(useAuthStore, useCartStore)\\n` +\r\n            `This will fail in production if not fixed.`);\r\n        stores = stores[0];\r\n    }\r\n    return stores.reduce((reduced, useStore) => {\r\n        // @ts-ignore: $id is added by defineStore\r\n        reduced[useStore.$id + mapStoreSuffix] = function () {\r\n            return getCachedStore(this, useStore);\r\n        };\r\n        return reduced;\r\n    }, {});\r\n}\r\n/**\r\n * Allows using state and getters from one store without using the composition\r\n * API (`setup()`) by generating an object to be spread in the `computed` field\r\n * of a component.\r\n *\r\n * @param useStore - store to map from\r\n * @param keysOrMapper - array or object\r\n */\r\nfunction mapState(useStore, keysOrMapper) {\r\n    return Array.isArray(keysOrMapper)\r\n        ? keysOrMapper.reduce((reduced, key) => {\r\n            reduced[key] = function () {\r\n                // @ts-expect-error\r\n                return getCachedStore(this, useStore)[key];\r\n            };\r\n            return reduced;\r\n        }, {})\r\n        : Object.keys(keysOrMapper).reduce((reduced, key) => {\r\n            reduced[key] = function () {\r\n                const store = getCachedStore(this, useStore);\r\n                const storeKey = keysOrMapper[key];\r\n                // for some reason TS is unable to infer the type of storeKey to be a\r\n                // function\r\n                return typeof storeKey === 'function'\r\n                    ? storeKey.call(this, store)\r\n                    : store[storeKey];\r\n            };\r\n            return reduced;\r\n        }, {});\r\n}\r\n/**\r\n * Alias for `mapState()`. You should use `mapState()` instead.\r\n * @deprecated use `mapState()` instead.\r\n */\r\nconst mapGetters = mapState;\r\n/**\r\n * Allows directly using actions from your store without using the composition\r\n * API (`setup()`) by generating an object to be spread in the `methods` field\r\n * of a component.\r\n *\r\n * @param useStore - store to map from\r\n * @param keysOrMapper - array or object\r\n */\r\nfunction mapActions(useStore, keysOrMapper) {\r\n    return Array.isArray(keysOrMapper)\r\n        ? keysOrMapper.reduce((reduced, key) => {\r\n            // @ts-expect-error\r\n            reduced[key] = function (...args) {\r\n                // @ts-expect-error\r\n                return getCachedStore(this, useStore)[key](...args);\r\n            };\r\n            return reduced;\r\n        }, {})\r\n        : Object.keys(keysOrMapper).reduce((reduced, key) => {\r\n            // @ts-expect-error\r\n            reduced[key] = function (...args) {\r\n                // @ts-expect-error\r\n                return getCachedStore(this, useStore)[keysOrMapper[key]](...args);\r\n            };\r\n            return reduced;\r\n        }, {});\r\n}\r\n/**\r\n * Allows using state and getters from one store without using the composition\r\n * API (`setup()`) by generating an object to be spread in the `computed` field\r\n * of a component.\r\n *\r\n * @param useStore - store to map from\r\n * @param keysOrMapper - array or object\r\n */\r\nfunction mapWritableState(useStore, keysOrMapper) {\r\n    return Array.isArray(keysOrMapper)\r\n        ? keysOrMapper.reduce((reduced, key) => {\r\n            // @ts-ignore\r\n            reduced[key] = {\r\n                get() {\r\n                    // @ts-expect-error\r\n                    return getCachedStore(this, useStore)[key];\r\n                },\r\n                set(value) {\r\n                    // it's easier to type it here as any\r\n                    // @ts-expect-error\r\n                    return (getCachedStore(this, useStore)[key] = value);\r\n                },\r\n            };\r\n            return reduced;\r\n        }, {})\r\n        : Object.keys(keysOrMapper).reduce((reduced, key) => {\r\n            // @ts-ignore\r\n            reduced[key] = {\r\n                get() {\r\n                    // @ts-expect-error\r\n                    return getCachedStore(this, useStore)[keysOrMapper[key]];\r\n                },\r\n                set(value) {\r\n                    // it's easier to type it here as any\r\n                    // @ts-expect-error\r\n                    return (getCachedStore(this, useStore)[keysOrMapper[key]] =\r\n                        value);\r\n                },\r\n            };\r\n            return reduced;\r\n        }, {});\r\n}\n\nexport { MutationType, createPinia, defineStore, mapActions, mapGetters, mapState, mapStores, mapWritableState, setActivePinia, setMapStoreSuffix };\n","import { defineStore } from 'pinia'\n\nexport const useWalletStore = defineStore({\n  id: 'wallet',\n\n  state: () => ({\n    address: undefined, // current wallet address\n    balance: undefined, // current balance\n    isWalletReady: false // whether the wallet is completely loaded\n  }),\n\n  actions: {\n    async init() {\n      try {\n        this.wallet.enable()\n      } catch (e) {\n        // ignore\n      }\n\n      await this.updateAccount()\n\n      this.wallet.onKeplrChange(() => {\n        this.updateAccount()\n      })\n    },\n\n    async updateAccount() {\n      const address = await this.wallet.getAddress()\n      const account = await this.scrtClient?.getAccount(address)\n      if (account) {\n        const balance = account.balance[0].amount\n        this.$patch({ address, balance })\n      }\n      this.isWalletReady = true\n    },\n\n    async enable() {\n      try {\n        await this.wallet.enable()\n        await this.updateAccount()\n      } catch (e) {\n        throw e\n      }\n    }\n  }\n})\n","<template>\n  <div class=\"wallet\">\n\n    <!-- Enable wallet action -->\n    <a href=\"#\"\n       class=\"wallet__content\"\n       @click=\"enable\"\n       v-show=\"!isWalletReady\">\n       Enable Keplr\n    </a>\n\n    <!-- Main content -->\n    <div class=\"wallet__content\" v-show=\"isWalletReady\">\n      <img src=\"../assets/wallet.svg\" alt=\"wallet icon\">\n      <span v-if=\"!address | !balance\">\n        No available, check wallet\n      </span>\n      <span v-else>\n        {{ bech32(address) }} | {{ theBalance }}\n      </span>\n    </div>\n\n  </div>\n</template>\n\n<script>\nimport { bech32, coinConvert } from '@stakeordie/griptape.js'\nimport { mapState, mapActions } from 'pinia'\nimport { useWalletStore } from '@/modules/wallet'\n\nexport default {\n  methods: {\n    ...mapActions(useWalletStore, ['enable']),\n\n    bech32,\n    coinConvert\n  },\n\n  computed: {\n    ...mapState(useWalletStore, [\n      'address',\n      'balance',\n      'isWalletReady'\n    ]),\n\n    theBalance() {\n      if (this.balance) {\n        return `${coinConvert(this.balance, 6, 'human', 2)} SCRT`\n      }\n      return 'No available'\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.wallet {\n  --wallet-width: 254px;\n  --wallet-height: 46px;\n  --wallet-border: 1px solid black;\n  --wallet-border-radius: 4px;\n\n  width: auto;\n  padding: 0 var(--gt-gutter);\n  height: var(--wallet-height);\n  border: var(--wallet-border);\n  border-radius: var(--wallet-border-radius);\n\n  &__content {\n    width: 100%;\n    height: 100%;\n\n    display: grid;\n    grid-auto-flow: column;\n    grid-column-gap: var(--gt-gutter);\n    place-items: center center;\n\n    img {\n      justify-self: end;\n    }\n\n    span {\n      justify-self: start;\n    }\n  }\n}\n</style>\n","export default \"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTgiIGhlaWdodD0iMTgiIHZpZXdCb3g9IjAgMCAxOCAxOCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTIuNjAwMDEgMC4yMDAwMDFDMS4yODQwNCAwLjIwMDAwMSAwLjIwMDAxMiAxLjI4NDAyIDAuMjAwMDEyIDIuNlYxNS40QzAuMjAwMDEyIDE2LjcyNTYgMS4yNzQ0MSAxNy44IDIuNjAwMDEgMTcuOEgxNi4yQzE3LjA4NCAxNy44IDE3LjggMTcuMDg0IDE3LjggMTYuMlY1QzE3LjggNC4xMTYgMTcuMDg0IDMuNCAxNi4yIDMuNEg5LjgwMDAxSDIuNjAwMDFDMi4xNDc5OSAzLjQgMS44MDAwMSAzLjA1MjAzIDEuODAwMDEgMi42QzEuODAwMDEgMi4xNDc5OCAyLjE0Nzk5IDEuOCAyLjYwMDAxIDEuOEgxNC42QzE0LjcwNiAxLjgwMTUgMTQuODExMyAxLjc4MTkxIDE0LjkwOTYgMS43NDIzOEMxNS4wMDggMS43MDI4NSAxNS4wOTc2IDEuNjQ0MTYgMTUuMTczMSAxLjU2OTczQzE1LjI0ODUgMS40OTUyOSAxNS4zMDg1IDEuNDA2NiAxNS4zNDk0IDEuMzA4NzlDMTUuMzkwMyAxLjIxMDk4IDE1LjQxMTQgMS4xMDYwMiAxNS40MTE0IDFDMTUuNDExNCAwLjg5Mzk4MSAxNS4zOTAzIDAuNzg5MDE4IDE1LjM0OTQgMC42OTEyMTJDMTUuMzA4NSAwLjU5MzQwNiAxNS4yNDg1IDAuNTA0NzA4IDE1LjE3MzEgMC40MzAyNzNDMTUuMDk3NiAwLjM1NTgzNyAxNS4wMDggMC4yOTcxNDggMTQuOTA5NiAwLjI1NzYxN0MxNC44MTEzIDAuMjE4MDg2IDE0LjcwNiAwLjE5ODUwMSAxNC42IDAuMjAwMDAxSDIuNjAwMDFaTTE0LjYgOUMxNS40ODQgOSAxNi4yIDkuNzE2IDE2LjIgMTAuNkMxNi4yIDExLjQ4NCAxNS40ODQgMTIuMiAxNC42IDEyLjJDMTMuNzE2IDEyLjIgMTMgMTEuNDg0IDEzIDEwLjZDMTMgOS43MTYgMTMuNzE2IDkgMTQuNiA5WiIgZmlsbD0iYmxhY2siLz4KPC9zdmc+Cg==\"","import { defineStore } from 'pinia'\nimport { assert } from '@stakeordie/griptape.js'\nimport { useWalletStore } from '@/modules/wallet'\n\nconst isEqual = (walletAddress, contractAddress) => {\n  return vk => {\n    return vk.walletAddress === walletAddress\n        && vk.contractAddress === contractAddress\n  }\n}\n\nexport const useViewingKeyStore = defineStore({\n  id: 'viewing-keys',\n\n  // This enables to be peristed by the state perists layer.\n  enablePersist: true,\n\n  state: () => ({\n    viewingKeys: []\n  }),\n\n  actions: {\n    async createViewingKey(contractAddress) {\n      const walletStore = useWalletStore()\n      const walletAddress = walletStore.address\n\n      const viewingKey = this.viewingKeys\n        .find(isEqual(walletAddress, contractAddress))\n\n      // If you have already a viewing key, do nothing\n      if (viewingKey) {\n        return\n      }\n\n      const contract = this.contractsRegistry[contractAddress]\n      assert(contract, 'contract not found')\n      const contractSpec = contract.$state.spec\n\n      if (contractSpec === 'snip-20') {\n        // TODO maybe we don't want to access the wallet directly.\n        // Suggest the token to keplr.\n        await this.wallet.suggestToken(contractAddress)\n\n        // Get the key from keplr if any.\n        let key = await this.wallet.getSnip20ViewingKey(contractAddress)\n\n        if (!key) {\n          const response = await contract.createViewingKey()\n          key = response.create_viewing_key.key\n        }\n\n        // Update state\n        this.$patch((state) => {\n          state.viewingKeys.push({ walletAddress, contractAddress, key })\n        })\n\n      } else {\n        const response = await contract.createViewingKey()\n        const key = response.viewing_key.key\n\n        // Update state\n        this.$patch((state) => {\n          state.viewingKeys.push({ walletAddress, contractAddress, key })\n        })\n      }\n    },\n\n    deleteViewingKey(contractAddress) {\n      const wallet = useWalletStore()\n\n      const idx = this.viewingKeys\n        .findIndex(isEqual(wallet.address, contractAddress))\n\n      if (idx === -1) return\n\n      this.$patch((state) => {\n        state.viewingKeys.splice(idx, 1)\n      })\n    },\n\n    getViewingKey(contractAddress) {\n      const wallet = useWalletStore()\n      const vk = this.viewingKeys\n        .find(isEqual(wallet.address, contractAddress))\n      return vk?.key\n    }\n  }\n})\n","<template>\n  <div class=\"vk\">\n\n    <div class=\"vk__content vk__content--has-vk\" v-if=\"current\">\n      <img src=\"../assets/key.svg\" alt=\"key icon\">\n      <span>{{ bech32(current) }}</span>\n      <a href=\"#\" @click.prevent=\"forget\">Forget</a>\n    </div>\n\n    <div class=\"vk__content\" v-else-if=\"!current && !isFormShowing\">\n      <a href=\"#\" @click.prevent=\"create\">Create or get</a>\n    </div>\n\n    <div class=\"vk__content vk-form\" v-else>\n      <form @submit.prevent=\"add\">\n\n        <input type=\"text\" v-model=\"form.vk\"\n          placeholder=\"Type or paste viewing key\">\n\n        <button>Add</button>\n        <button type=\"button\" @click.prevent=\"resetForm\">Cancel</button>\n      </form>\n    </div>\n\n  </div>\n</template>\n\n<script>\nimport { bech32 } from '@stakeordie/griptape.js'\nimport { mapState, mapActions } from 'pinia'\nimport { useViewingKeyStore } from '@/modules/viewing-keys'\n\nexport default {\n  props: {\n    contractAddress: {\n      type: String,\n      required: true\n    }\n  },\n\n  data() {\n    return {\n      form: {\n        vk: ''\n      },\n      isFormShowing: false\n    }\n  },\n\n  methods: {\n    bech32,\n\n    create() {\n      this.createViewingKey(this.contractAddress)\n      this.resetForm()\n    },\n\n    add() {\n      if (!this.form.vk) return\n      this.addViewingKey(this.contractAddress, this.form.vk)\n      this.resetForm()\n    },\n\n    forget() {\n      this.deleteViewingKey(this.contractAddress)\n    },\n\n    showForm() {\n      this.isFormShowing = true\n    },\n\n    resetForm() {\n      this.form.vk = ''\n      this.isFormShowing = false\n    },\n\n    ...mapActions(useViewingKeyStore, [\n      'createViewingKey',\n      'deleteViewingKey',\n      'getViewingKey'\n    ])\n  },\n\n  computed: {\n    ...mapState(useViewingKeyStore, [\n      'viewingKeys'\n    ]),\n\n    current() {\n      return this.getViewingKey(this.contractAddress)\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.vk {\n  --vk-width: 254px;\n  --vk-height: 46px;\n  --vk-border: 1px solid black;\n  --vk-border-radius: 4px;\n\n  width: auto;\n  padding: 0 var(--gt-gutter);\n  max-height: 100%;\n  height: var(--vk-height);\n  border: var(--vk-border);\n  border-radius: var(--vk-border-radius);\n\n  &__content {\n    width: 100%;\n    height: 100%;\n\n    display: grid;\n    grid-auto-flow: column;\n    grid-column-gap: var(--gt-gutter);\n    place-items: center center;\n\n    &--has-vk {\n      padding: 0 var(--gt-gutter-l);\n\n      img {\n        justify-self: end;\n      }\n\n      span {\n        width: 100%;\n        text-overflow: ellipsis;\n        white-space: nowrap;\n        overflow: hidden;\n        justify-self: start;\n      }\n    }\n  }\n}\n\n.vk-form {\n  form {\n    display: grid;\n    grid-auto-flow: column;\n  }\n}\n</style>\n","export default \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pgo8IS0tIEdlbmVyYXRvcjogQWRvYmUgSWxsdXN0cmF0b3IgMTYuMC4wLCBTVkcgRXhwb3J0IFBsdWctSW4gLiBTVkcgVmVyc2lvbjogNi4wMCBCdWlsZCAwKSAgLS0+CjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+CjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0iQ2FwYV8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIKCSB3aWR0aD0iMThweCIgaGVpZ2h0PSIxOHB4IiB2aWV3Qm94PSIwIDAgODM2LjEyNyA4MzYuMTI3IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA4MzYuMTI3IDgzNi4xMjc7IgoJIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8Zz4KCTxwYXRoIGQ9Ik04MjcuMDY1LDI2My43YzAtMzUuNi03LTcwLjEtMjAuNy0xMDIuN2MtMTMuMy0zMS40LTMyLjMtNTkuNi01Ni41LTgzLjhzLTUyLjQtNDMuMi04My44LTU2LjUKCQlDNjMzLjU2NSw2LjksNTk4Ljk2NSwwLDU2My4zNjUsMHMtNzAuMSw3LTEwMi43LDIwLjdjLTMxLjM5OSwxMy4zLTU5LjYsMzIuMy04My44LDU2LjVzLTQzLjIsNTIuNC01Ni41LDgzLjgKCQljLTEzLjgsMzIuNS0yMC43LDY3LjEtMjAuNywxMDIuN2MwLDQ0LjUsMTEuMiw4OC4xLDMyLjUsMTI2LjlMMTYuNDY1LDcwNmMtNy4zLDcuMy05LjYsMTguNC01LjEsMjguOWMwLjksMi4yLDIuNCw0LjIsNC4xLDUuODk5CgkJbDcwLjcsNzAuN2MxLjcsMS43LDMuNywzLjEwMSw1LjksNC4xMDFjMTAuNSw0LjUsMjEuNiwyLjMsMjguOS01LjEwMWw0My43LTQzLjdsNjIuOSw2Mi45YzEuNywxLjcsMy43LDMuMSw1Ljg5OSw0LjEKCQljMTAuNSw0LjUsMjEuNjAxLDIuMzAxLDI4LjktNS4xbDY5LjctNjkuN2MxLjctMS43LDMuMS0zLjcsNC4xLTUuODk5YzQuNS0xMC41LDIuMy0yMS42MDEtNS4xLTI4LjlsLTYxLjktNjEuOWwxNjcuMi0xNjcuMwoJCWMzOC43LDIxLjMsODIuNCwzMi41LDEyNi45LDMyLjVjMzUuNiwwLDcwLjEtNywxMDIuNjk5LTIwLjdjMzEuNC0xMy4zLDU5LjYwMS0zMi4zLDgzLjgwMS01Ni41CgkJYzI0LjE5OS0yNC4xOTksNDMuMTk5LTUyLjM5OSw1Ni41LTgzLjhDODIwLjA2NSwzMzMuOCw4MjcuMDY1LDI5OS4zLDgyNy4wNjUsMjYzLjd6IE02NTUuNzY2LDM1Ni4yCgkJYy0yNC43LDI0LjctNTcuNjAxLDM4LjMtOTIuNSwzOC4zYy0zNC45LDAtNjcuODAxLTEzLjYtOTIuNS0zOC4zYy0yNC43LTI0LjctMzguNC01Ny42LTM4LjQtOTIuNWMwLTM1LDEzLjYtNjcuOCwzOC4zLTkyLjUKCQlzNTcuNjAxLTM4LjMsOTIuNS0zOC4zYzM0LjksMCw2Ny44LDEzLjYsOTIuNSwzOC4zczM4LjMsNTcuNiwzOC4zLDkyLjVDNjk0LjE2NSwyOTguNiw2ODAuNTY1LDMzMS41LDY1NS43NjYsMzU2LjJ6Ii8+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPC9zdmc+Cg==\"","// Stores the are already registered\nconst stores = []\n\n// The key used by `localStorage.setItem`\nconst storageKey = '__griptape.js'\n\n// Pinia plugin for persisting data on local storage\nexport const statePersist = ({ store, options }) => {\n\n  // Check if the store was already registered and if the store has the state\n  // persists enabled.\n  if (!stores.includes(store.$id)\n    && (typeof options.enablePersist !== 'undefined'\n      && options.enablePersist)) {\n\n    const data = localStorage.getItem(storageKey)\n\n    if (data) {\n      store.$state = JSON.parse(data)\n    }\n\n    store.$subscribe((event) => {\n      localStorage.setItem(storageKey, JSON.stringify(store.$state))\n    })\n\n    stores.push(store.$id)\n  }\n}\n","import { defineStore } from 'pinia'\nimport {\n  defineContract,\n  defineSnip20Contract\n} from '@stakeordie/griptape.js'\n\n// Transforms a contract definition in a pinia store.\nfunction createStoreFromContract(id, contracDefinition) {\n  const {\n    contractAddress,\n    state,\n    messages,\n    queries,\n    spec\n  } = contracDefinition\n  const store = {\n    id,\n    state: () => ({\n      contractAddress,\n      spec,\n      ...state,\n    }),\n    actions: {\n      ...messages,\n      ...queries\n    }\n  }\n  return defineStore(store)\n}\n\n// Creates a contract on a contract defintion.\nexport function createContract(id, contractAddress, contractDef) {\n  const def = defineContract(contractAddress, contractDef)\n  return createStoreFromContract(id, def)\n}\n\n// Creates an SNIP-20 contract and add extend for a contract definition if\n// needed.\nexport function createSnip20Contract(id, contractAddress, contractDef) {\n  const def = defineSnip20Contract(contractAddress, contractDef)\n  return createStoreFromContract(id, def)\n}\n\n// Global registry for contracts.\nexport const registry = {}\n\nfunction isContract(store) {\n  return typeof store.$state.contractAddress !== 'undefined'\n      && typeof store.$state.spec !== 'undefined'\n}\n\n// Pinia plugin for accesing all the contracts in the application by id.\nexport const contractRegistry = ({ store }) => {\n  if (isContract(store) && !registry[store.$id]) {\n    registry[store.$state.contractAddress] = store\n  }\n}\n","import { createApp, markRaw } from 'vue'\nimport { createPinia, defineStore } from 'pinia'\nimport {\n  GriptapeConfig,\n  useWallet,\n  createScrtClient\n} from '@stakeordie/griptape.js'\n\nimport WalletInfo from '@/components/WalletInfo.vue'\nimport ViewingKeyManager from '@/components/ViewingKeyManager.vue'\nimport { useWalletStore } from '@/modules/wallet'\nimport { useViewingKeyStore } from '@/modules/viewing-keys'\nimport { statePersist } from '@/modules/state-persist'\nimport { contractRegistry, registry } from '@/modules/contracts'\n\nconst griptapeGlue = {\n  install(app: any, options: any) {\n    const { wallet, scrtClient, pinia } = options\n\n    // Register global components\n    app.component('WalletInfo', WalletInfo)\n    app.component('ViewingKeyManager', ViewingKeyManager)\n\n    // Init pinia plugins\n    pinia.use(({ store }: any) => {\n      store.wallet = wallet ? markRaw(wallet) : undefined\n      store.scrtClient = scrtClient ? markRaw(scrtClient) : undefined\n      store.contractsRegistry = markRaw(registry)\n    })\n    pinia.use(statePersist)\n    pinia.use(contractRegistry)\n    app.use(pinia)\n  }\n}\n\nexport function gripVueJsApp(\n  conf: GriptapeConfig,\n  rootComponent: any,\n  preMount?: Function\n): Promise<object> {\n\n  return new Promise<object>(async (resolve, reject) => {\n    try {\n\n      // Create and setup the application.\n      const app = createApp(rootComponent)\n      const pinia = createPinia()\n      const options = {\n        mountId: '#app'\n      }\n\n      // Get the wallet and scrtClient\n      const wallet = await useWallet()\n      const scrtClient = await createScrtClient(conf.restUrl, wallet)\n\n      // Register the glue plugin.\n      app.use(griptapeGlue, { wallet, scrtClient, pinia })\n\n      // Needed to initialize the app, but also there are some\n      // issues if all the stores are not initialize/called\n      // here.\n      const walletStore = useWalletStore(pinia)\n      useViewingKeyStore(pinia)\n\n      // Pre mount the app for user specific components, plugins.\n      if (preMount) {\n        preMount(app, pinia, options)\n      }\n\n      // Mount the application.\n      app.mount(options.mountId)\n\n      // Init the wallet store.\n      await walletStore.init()\n\n      // Resolve the promise, provide the app and pinia instances.\n      resolve({ app, pinia, options })\n\n    } catch (e) {\n      reject(e)\n    }\n  })\n}\n"],"names":["navigator","window","global","pluginDescriptor","setupFn","hook","getTarget","__VUE_DEVTOOLS_GLOBAL_HOOK__","emit","target","__VUE_DEVTOOLS_PLUGINS__","push","activePinia","setActivePinia","pinia","getActivePinia","storesMap","WeakMap","piniaSymbol","Symbol","o","Object","prototype","toString","call","toJSON","MutationType","MutationType2","module","commonjsGlobal","globalThis","self","FileSaver_min","exports","message","type","piniaMessage","__VUE_DEVTOOLS_TOAST__","error","warn","log","toLowerCase","includes","fileInput","async","open2","document","createElement","accept","Promise","resolve","reject","onchange","files","file","item","text","oncancel","click","result","state","value","JSON","parse","name","display","_custom","a2","b2","autoBom","test","Blob","c2","d2","XMLHttpRequest","open","responseType","onload","response","onerror","send","a3","status","dispatchEvent","MouseEvent","createEvent","initMouseEvent","f","a","userAgent","g","saveAs","HTMLAnchorElement","g2","h","i","URL","webkitURL","j","download","rel","href","origin","location","e","d","c","createObjectURL","setTimeout","revokeObjectURL","f2","msSaveOrOpenBlob","b","e2","title","body","innerText","HTMLElement","safari","FileReader","k","onloadend","replace","readAsDataURL","l","m","store","id","$id","label","events","Array","isArray","reduce","data","event","keys","key","operations","oldValue","newValue","operation","formatDisplay","direct","patchFunction","patchObject","registeredStores","Map","isAlreadyInstalled","isTimelineActive","componentStateTypes","app","hasSubscribed","has","set","logo","packageName","homepage","api","sendInspectorTree","sendInspectorState","addTimelineLayer","color","addInspector","icon","treeFilterPlaceholder","actions","action","checkClipboardAccess","clipboard","writeText","stringify","checkNotFocusedError","_p","tooltip","readText","actionGlobalPasteState","actionGlobalOpenStateFile","on","inspectComponent","payload","ctx","proxy","componentInstance","_pStores","piniaStores","values","forEach","store2","instanceData","editable","$state","_getters","length","getters","getInspectorTree","inspectorId","stores2","concat","from","rootNodes","filter","map","formatStoreForInspectorTree","getInspectorState","inspectedStore","nodeId","get","toastMessage","storeId","getterName","formatStoreForInspectorState","editInspectorState","path","unshift","editComponentState","startsWith","$onAction","after","onError","args","groupId","runningActionId","addTimelineEvent","layerId","time","Date","now","subtitle","logType","$subscribe","notifyComponentUpdate","eventData","formatMutationType","formatEventData","activeAction","options","wrappedActions","storeActions","actionName","_actionId","trackedStore","Proxy","Reflect","apply","arguments","__spreadValues","IS_CLIENT","patchToApply","subPatch","targetValue","isPlainObject","innerPatch","assign","buildState","initialState","debuggerEvents","isListening","subscriptions","markRaw","actionSubscriptions","_as","$patch","partialStateOrMutator","subscriptionMutation","callback","deep","flush","stopWatcher","watch","oldState","removeSubscription","idx","indexOf","splice","getCurrentInstance","$reset","newState","noop","partialStore","descriptor","computedGetters","computed","localStore","this","ret","afterCallback","onErrorCallback","then","catch","reactive","rootStateRef","reactiveObject","computedFromState","defineProperty","extender","_a","currentInstance","shouldProvide","inject","storeAndDescriptor","buildStoreToUse","initStore","vm","useStore","cache","$pinia","keysOrMapper","reduced","getCachedStore","storeKey","useWalletStore","defineStore","address","balance","isWalletReady","wallet","enable","updateAccount","onKeplrChange","getAddress","account","scrtClient","getAccount","amount","methods","__spreadProps","mapActions","bech32","coinConvert","mapState","[object Object]","class","src","_createBlock","isEqual","walletAddress","contractAddress","vk","useViewingKeyStore","enablePersist","viewingKeys","find","contract","contractsRegistry","spec","suggestToken","getSnip20ViewingKey","createViewingKey","create_viewing_key","viewing_key","findIndex","props","String","required","form","isFormShowing","resetForm","addViewingKey","deleteViewingKey","getViewingKey","_hoisted_3","_createVNode","_cache","onUpdate:modelValue","_hoisted_6","stores","statePersist","localStorage","getItem","setItem","contracDefinition","messages","queries","contractDef","createStoreFromContract","defineContract","defineSnip20Contract","registry","contractRegistry","isContract","griptapeGlue","component","WalletInfo","ViewingKeyManager","use","conf","rootComponent","preMount","createApp","ref","localApp","toBeInstalled","provide","config","globalProperties","plugin","devtoolsPlugin","createPinia","mountId","useWallet","createScrtClient","restUrl","walletStore","mount","init"],"mappings":"i6BAGO,mBAEyB,oBAAdA,UACRC,OACkB,oBAAXC,OACHA,OACA,GCNP,WAA6BC,EAAkBC,SAC5CC,EDHCC,IAAYC,gCCIfF,IACKG,KCNa,wBDMIL,EAAkBC,OAEvC,OACKK,EAASH,KACFG,EAAOC,yBAA2BD,EAAOC,0BAA4B,IAC7EC,KAAK,CACNR,iBAAAA,EACAC,QAAAA;;;;;IEDZ,IAAIQ,EAOJ,MAAMC,EAAkBC,GAAWF,EAAcE,EAI3CC,EAAiB,KACdH,KACI,0KAKFA,GAMLI,EAAY,IAAIC,QAChBC,EAAeC,OAAO,SAE5B,WAEAC,UACYA,GACS,iBAANA,GAC+B,oBAAtCC,OAAOC,UAAUC,SAASC,KAAKJ,IACX,mBAAbA,EAAEK,OAMjB,IAAIC,EACOC,GAAAA,EAsBRD,MAAgC,YAdN,uBAMK,+BAME,iBAIpC,IAIWE,EAJPC,EAAuC,oBAAfC,WAA6BA,WAA+B,oBAAX7B,OAAyBA,OAA2B,oBAAXC,OAAyBA,OAAyB,oBAAT6B,KAAuBA,KAAO,GAEzLC,EAAgB,CAACC,QAAS,IAc9B,WAAsBC,EAASC,SACrBC,EAAe,MAAQF,EACS,mBAA3BG,8CACgBD,EAAcD,GAEvB,UAATA,UACGG,MAAMF,GAEA,SAATD,UACGI,KAAKH,WAGLI,IAAIJ,GAIpB,gCACyBpC,oBACJ,iDAAkD,UACxD,EAGf,WAA8BsC,MACtBA,EAAMJ,QAAQO,cAAcC,SAAS,oCACxB,kGAAmG,SACzG,EA0Cf,IAAIC,GAwBJC,kBAAyC9B,aAE3B+B,QAxBLF,QACWG,SAASC,cAAc,YACzBZ,KAAO,UACPa,OAAS,2BAGZ,IAAIC,SAAQ,CAACC,EAASC,QACfC,SAAWR,gBACXS,EAAQV,GAAUU,UACnBA,SACMH,EAAQ,YACbI,EAAOD,EAAME,KAAK,UAGjBL,EAFFI,EAEU,CAAEE,WAAYF,EAAKE,OAAQF,KAAAA,GADvB,UAGbG,SAAW,IAAMP,EAAQ,SACzBQ,aAQRC,QAAed,QAChBc,eAECH,KAAEA,OAAMF,GAASK,IACjBC,MAAMC,MAAQC,KAAKC,MAAMP,KAClB,+BAA+BF,EAAKU,gBAE9C1B,KACU,0EAA2E,iBAChFA,MAAMA,IAItB,YAAuB2B,SACZ,CACHC,QAAS,CACLD,QAAAA,IA1HDrC,EAITI,EAHmC,sBAAsBmC,EAAEC,eAAU,IAAoBA,EAAEA,EAAE,CAACC,SAAQ,GAAI,iBAAiBD,YAAY7B,KAAK,sDAAsD6B,EAAE,CAACC,SAASD,IAAIA,EAAEC,SAAS,6EAA6EC,KAAKH,EAAEhC,MAAM,IAAIoC,KAAK,CAAC,SAASJ,GAAG,CAAChC,KAAKgC,EAAEhC,OAAOgC,aAAaA,EAAEC,EAAEI,OAAOC,EAAE,IAAIC,iBAAiBC,KAAK,MAAMR,GAAGM,EAAEG,aAAa,OAAOH,EAAEI,OAAO,aAAaJ,EAAEK,SAASV,EAAEI,IAAKC,EAAEM,QAAQ,mBAAmBzC,MAAM,4BAA6BmC,EAAEO,kBAAmBb,OAAOC,EAAE,IAAIM,iBAAiBC,KAAK,OAAOR,GAAE,SAAUa,aAAcC,WAAW,KAAKb,EAAEc,QAAQ,KAAKd,EAAEc,kBAAkBf,SAASgB,cAAc,IAAIC,WAAW,gBAAiBZ,OAAOJ,EAAEtB,SAASuC,YAAY,iBAAiBC,eAAe,SAAQ,GAAG,EAAGrF,OAAO,EAAE,EAAE,EAAE,GAAG,IAAG,GAAG,GAAG,GAAG,EAAG,EAAE,MAAMkE,EAAEgB,cAAcf,QAASmB,EAAE,iBAAiBtF,QAAQA,OAAOA,SAASA,OAAOA,OAAO,iBAAiB8B,MAAMA,KAAKA,OAAOA,KAAKA,KAAK,iBAAiBF,GAAgBA,EAAe3B,SAAS2B,EAAeA,OAAe,EAAO2D,EAAED,EAAEvF,WAAW,YAAYsE,KAAKtE,UAAUyF,YAAY,cAAcnB,KAAKtE,UAAUyF,aAAa,SAASnB,KAAKtE,UAAUyF,WAAWC,EAAEH,EAAEI,SAAS,iBAAiB1F,QAAQA,SAASsF,EAAE,aAAa,aAAaK,kBAAkBtE,YAAYkE,EAAE,SAASpB,EAAEyB,EAAEC,OAAOC,EAAER,EAAES,KAAKT,EAAEU,UAAUC,EAAEpD,SAASC,cAAc,OAAO8C,GAAGzB,EAAEJ,MAAM,WAAWkC,EAAEC,SAASN,EAAEK,EAAEE,IAAI,WAAW,iBAAiBhC,KAAKiC,KAAKjC,EAAE8B,EAAEI,SAASC,SAASD,OAAOE,EAAEN,GAAGO,EAAEP,EAAEG,MAAMK,EAAEtC,EAAEyB,EAAEC,GAAGU,EAAEN,EAAEA,EAAEzF,OAAO,cAAc4F,KAAKN,EAAEY,gBAAgBvC,GAAGwC,YAAW,aAAaC,gBAAgBX,EAAEG,QAAQ,KAAKO,YAAW,aAAaV,KAAK,KAAM,qBAAqBlG,UAAU,SAAS8G,EAAEjB,EAAEC,MAAMD,EAAEA,GAAGiB,EAAE9C,MAAM,WAAW,iBAAiB8C,YAAYC,iBAAiBC,EAAEF,EAAEhB,GAAGD,WAAWY,EAAEK,KAAKA,EAAEjB,EAAEC,OAAQ,KAAKC,EAAEjD,SAASC,cAAc,OAAOsD,KAAKS,EAAEf,EAAEtF,OAAO,SAASmG,YAAW,aAAab,QAAS,SAAS3B,EAAEK,EAAEwC,EAAEpB,OAAMA,EAAEA,GAAGlB,KAAK,GAAG,eAAgB7B,SAASoE,MAAMrB,EAAE/C,SAASqE,KAAKC,UAAU,kBAAkB,iBAAiBhD,SAASsC,EAAEtC,EAAEK,EAAEwC,OAAOnB,EAAE,6BAA6B1B,EAAEjC,KAAK4D,EAAE,eAAezB,KAAKiB,EAAE8B,cAAc9B,EAAE+B,OAAOpB,EAAE,eAAe5B,KAAKtE,UAAUyF,kBAAkBK,GAAGC,GAAGP,IAAI,oBAAoB+B,WAAW,KAAKC,EAAE,IAAID,aAAaE,UAAU,eAAetD,EAAEqD,EAAE7D,SAASuC,EAAE/B,EAAEA,EAAEuD,QAAQ,eAAe,yBAAyB7B,EAAEA,EAAEU,SAASF,KAAKlC,EAAEoC,SAASpC,EAAE0B,EAAE,MAAO2B,EAAEG,cAAcvD,OAAS,KAAKwD,EAAErC,EAAES,KAAKT,EAAEU,UAAU4B,EAAED,EAAEjB,gBAAgBvC,KAAKyB,EAAEU,SAASsB,EAAEtB,SAASF,KAAKwB,EAAEhC,EAAE,KAAKe,YAAW,aAAaC,gBAAgBgB,KAAK,UAAWlC,OAAOD,EAAEC,OAAOD,EAAG9D,EAAOK,QAAQyD,KA+H5hF,YAAqCoC,SAC1B,QAASA,EACV,CACEC,GAAID,EAAME,IACVC,MAAOH,EAAME,KAEf,CACED,GARU,QASVE,MAVa,mBAsDzB,YAAyBC,UAChBA,EAEDC,MAAMC,QAAQF,GAEPA,EAAOG,QAAO,CAACC,EAAMC,OACnBC,KAAK7H,KAAK4H,EAAME,OAChBC,WAAW/H,KAAK4H,EAAMpG,QACtBwG,SAASJ,EAAME,KAAOF,EAAMI,WAC5BC,SAASL,EAAME,KAAOF,EAAMK,SAC1BN,IACR,CACCK,SAAU,GACVH,KAAM,GACNE,WAAY,GACZE,SAAU,KAIP,CACHC,UAAWC,GAAcZ,EAAO/F,MAChCsG,IAAKK,GAAcZ,EAAOO,KAC1BE,SAAUT,EAAOS,SACjBC,SAAUV,EAAOU,UArBd,GAyBf,YAA4BzG,UAChBA,QACCT,EAAaqH,aACP,gBACNrH,EAAasH,mBAEbtH,EAAauH,kBACP,uBAEA,WAOnB,MAAMC,OAAqCC,IAC3C,IAAIC,GAEAC,IAAmB,EACvB,MAAMC,GAAsB,GAG5B,YAAqBC,EAAKzB,OAKlB0B,GAAgB,EACfN,GAAiBO,IAAI3B,EAAME,UACX0B,IAAI5B,EAAME,IAAKF,MACZnH,KAAK,MAAQmH,EAAME,QACvB,UACRxF,IAAI,mCAEI,CAChBuF,GAAI,gBACJE,MAAO,WACP0B,KAAM,iCACNC,YAAa,QACbC,SAAU,wBACVP,oBAAAA,GACAC,IAAAA,IACAO,IACKV,MA8IGW,kBApKK,WAqKLC,mBArKK,aAuBLC,iBAAiB,CACjBlC,GAzBW,kBA0BXE,MAAO,WACPiC,MAAO,aAEPC,aAAa,CACbpC,GA7BK,QA8BLE,MAAO,WACPmC,KAAM,UACNC,sBAAuB,gBACvBC,QAAS,CACL,CACIF,KAAM,eACNG,OAAQ,MAjOhC3H,eAAqC9B,OAC7B0J,cAGMxK,UAAUyK,UAAUC,UAAU5G,KAAK6G,UAAU7J,EAAM8C,MAAMC,UAClD,2CAEVvB,MACCsI,EAAqBtI,YAEZ,qEAAsE,iBAC3EA,MAAMA,KAuN4BwF,EAAM+C,KAEhCC,QAAS,gCAEb,CACIV,KAAM,gBACNG,OAAQ3H,gBA1NhCA,eAAsC9B,OAC9B0J,UAGM5G,MAAMC,MAAQC,KAAKC,YAAY/D,UAAUyK,UAAUM,cAC5C,6CAEVzI,MACCsI,EAAqBtI,YAEZ,sFAAuF,iBAC5FA,MAAMA,IAgNY0I,CAAuBlD,EAAM+C,MAC/Bd,kBA7CX,WA8CWC,mBA9CX,UAgDGc,QAAS,wDAEb,CACIV,KAAM,OACNG,OAAQ,MArNhC3H,eAAqC9B,SAEfmB,QAAQ0D,OAAO,IAAIpB,KAAK,CAACT,KAAK6G,UAAU7J,EAAM8C,MAAMC,QAAS,CACvE1B,KAAM,6BACN,0BAEDG,KACU,0EAA2E,iBAChFA,MAAMA,KA8M4BwF,EAAM+C,KAEhCC,QAAS,iCAEb,CACIV,KAAM,cACNG,OAAQ3H,gBACEqI,GAA0BnD,EAAM+C,MAClCd,kBA7DX,WA8DWC,mBA9DX,UAgEGc,QAAS,0CAIjBI,GAAGC,kBAAiB,CAACC,EAASC,WACxBC,EAASF,EAAQG,mBACnBH,EAAQG,kBAAkBD,SAC1BA,GAASA,EAAME,SAAU,OACnBC,EAAcL,EAAQG,kBAAkBD,MAAME,gBAC7CE,OAAOD,GAAaE,SAASC,MACxBC,aAAajI,MAAMjD,KAAK,CAC5BwB,KAAM,MAAQyJ,EAAM5D,IACpBS,IAAK,QACLqD,UAAU,EACVjI,MAAO+H,EAAMG,SAEbH,EAAMI,UAAYJ,EAAMI,SAASC,UACzBJ,aAAajI,MAAMjD,KAAK,CAC5BwB,KAAM,MAAQyJ,EAAM5D,IACpBS,IAAK,UACLqD,UAAU,EACVjI,MAAO+H,EAAMI,SAAS3D,QAAO,CAAC6D,EAASzD,OAE3BA,GAAOmD,EAAMnD,GACdyD,IACR,eAMnBhB,GAAGiB,kBAAkBf,OACjBA,EAAQ7B,MAAQA,GAhGf,UAgGsB6B,EAAQgB,YAA8B,KACzDC,EAAS,CAACvE,EAAM+C,MACXwB,EAAOC,OAAOnE,MAAMoE,KAAKrD,GAAiBwC,aAC3Cc,aAAqBC,OACvBJ,EAAOI,QAAQb,GAAU,QAASA,EAC9BA,EAAM5D,IACHvF,cACAC,SAAS0I,EAAQqB,OAAOhK,eA9MhC,kBA+MsBA,cAAcC,SAAS0I,EAAQqB,OAAOhK,iBAC3D4J,GAAQK,IAAIC,UAGtBzB,GAAG0B,mBAAmBxB,OAClBA,EAAQ7B,MAAQA,GA7Gf,UA6GsB6B,EAAQgB,YAA8B,OACvDS,EApNJ,UAoNqBzB,EAAQ0B,OACzBhF,EAAM+C,GACN3B,GAAiB6D,IAAI3B,EAAQ0B,YAC9BD,SACMG,EAAa,UAAU5B,EAAQ0B,oBAAqB,SAE3DD,MACQjJ,MA/MhC,SAAsCkE,gBACnBA,SACG,CACVlE,MAAOvC,OAAOmH,KAAKV,EAAMlE,MAAMC,OAAO6I,KAAKO,IAAa,CACpDnB,UAAU,EACVrD,IAAKwE,EACLpJ,MAAOiE,EAAMlE,MAAMC,MAAMoJ,cAgB/BrJ,EAAQ,CACVA,MAAOvC,OAAOmH,KAAKV,EAAMiE,QAAQW,KAAKjE,IAAS,CAC3CqD,UAAU,EACVrD,IAAAA,EAEA5E,MAAOiE,EAAMiE,OAAOtD,eAIxBX,EAAMkE,UAAYlE,EAAMkE,SAASC,WAC3BC,QAAUpE,EAAMkE,SAASU,KAAKQ,IAAgB,CAChDpB,UAAU,EACVrD,IAAKyE,EAELrJ,MAAOiE,EAAMoF,QAGdtJ,EAwK6BuJ,CAA6BN,UAIrD3B,GAAGkC,oBAAmB,CAAChC,EAASC,QAC5BD,EAAQ7B,MAAQA,GA1Hf,UA0HsB6B,EAAQgB,YAA8B,OACvDS,EAjOJ,UAiOqBzB,EAAQ0B,OACzBhF,EAAM+C,GACN3B,GAAiB6D,IAAI3B,EAAQ0B,YAC9BD,SACMG,EAAa,UAAU5B,EAAQ0B,oBAAqB,eAEzDO,KAAEA,GAASjC,EACb,QAASyB,IAEJS,QAAQ,YAGRA,QAAQ,QAAS,aAEP,IACX5D,IAAImD,EAAgBQ,EAAMjC,EAAQxH,MAAMC,WAC7B,QAGvBqH,GAAGqC,oBAAoBnC,OACnBA,EAAQjJ,KAAKqL,WAAW,MAAO,OACzBP,EAAU7B,EAAQjJ,KAAKuF,QAAQ,SAAU,IACzCkE,EAAQ1C,GAAiB6D,IAAIE,OAC9BrB,SACMoB,EAAa,UAAUC,eAAsB,eAElDI,KAAEA,GAASjC,KACD,UAAZiC,EAAK,UACEL,EAAa,2BAA2BC,QAAcI,oCAI5D,GAAK,aACS,IACX3D,IAAIkC,EAAOyB,EAAMjC,EAAQxH,MAAMC,WACpB,UAGN,GAOrB2F,MAEEiE,WAAU,EAAGC,MAAAA,EAAOC,QAAAA,EAAS3J,KAAAA,EAAM4J,KAAAA,EAAM9F,kBACrC+F,EAAUC,OACZC,iBAAiB,CACjBC,QA9KW,kBA+KXzF,MAAO,CACH0F,KAAMC,KAAKC,MACXjH,MAAO,MAAQlD,EACfoK,SAAU,QACV9F,KAAM,CACFiC,OAAQzB,GAAc9E,GACtB4J,KAAAA,GAEJC,QAAAA,QAGDlK,MACCoK,iBAAiB,CACjBC,QA5LO,kBA6LPzF,MAAO,CACH0F,KAAMC,KAAKC,MACXjH,MAAO,MAAQlD,EACfoK,SAAU,MACV9F,KAAM,CACFiC,OAAQzB,GAAc9E,GACtB4J,KAAAA,EACAjK,OAAAA,GAEJkK,QAAAA,WAIHvL,MACDyL,iBAAiB,CACjBC,QA5MO,kBA6MPzF,MAAO,CACH0F,KAAMC,KAAKC,MACXE,QAAS,QACTnH,MAAO,MAAQlD,EACfoK,SAAU,MACV9F,KAAM,CACFiC,OAAQzB,GAAc9E,GACtB4J,KAAAA,EACAtL,MAAAA,GAEJuL,QAAAA,aAKVS,YAAW,EAAGpG,OAAAA,EAAQ/F,KAAAA,GAAQyB,SAC3ByF,YAGDkF,0BACAvE,mBAhOK,eAiOHwE,EAAY,CACdP,KAAMC,KAAKC,MACXjH,MAAOuH,GAAmBtM,GAC1BmG,KAAMoG,GAAgBxG,GACtB2F,QAASc,YAGE,EACXxM,IAAST,EAAasH,gBACZoF,SAAW,KAEhBjM,IAAST,EAAauH,cACjBmF,SAAW,KAEhBlG,IAAWC,MAAMC,QAAQF,OACpBkG,SAAWlG,EAAO/F,MAE5B+F,MACUI,KAAK,eAAiB,CAC5BpE,QAAS,CACLD,QAAS,gBACT9B,KAAM,SACN2I,QAAS,sBACTjH,MAAOqE,OAIf6F,iBAAiB,CACjBC,QA9PW,kBA+PXzF,MAAOiG,SAKXD,0BACS,IAAIzG,EAAME,4BAG/B,IACI2G,GADAb,GAAkB,EAKtB,aAAwBvE,IAAEA,QAAKzB,UAAO8G,QAAS9N,UACrC+N,EAAiB,GAEjBvE,EAAUjJ,OAAOmH,KAAKoG,EAAQtE,SAAW,IAAIjC,QAAO,CAACyG,EAAcC,OAExDA,GAAcjH,EAAMiH,GAC1BD,IACR,cACQC,KAAczE,IAENyE,GAAc,aACVjO,SAETkO,EAAYlB,GACZmB,EAAe,IAAIC,MAAMpH,EAAO,CAClCiF,QAAOa,QACYoB,EACRG,QAAQpC,OAAOa,IAE1BlE,QAAOkE,QACYoB,EACRG,QAAQzF,OAAOkE,aAGvBtD,EAAQyE,GAAYK,MAAMH,EAAcI,sBAG3C9F,EAEZzB,GACOwH,KAAKT,GAGhB,MAAMU,GAA8B,oBAAXtP,OA+CzB,YAAoBQ,EAAQ+O,aAEb/G,KAAO+G,EAAc,OACtBC,EAAWD,EAAa/G,GACxBiH,EAAcjP,EAAOgI,GACvBkH,EAAcD,IAAgBC,EAAcF,KACrChH,GAAOmH,GAAWF,EAAaD,KAI/BhH,GAAOgH,SAGfhP,EAEX,MAAMoP,OAAEA,IAAWxO,OA2BnB,YAAmB2G,EAAK8H,EAAa,MAAO,KAAKC,SACvCjP,EAAQC,MACR6C,MAAMC,MAAMmE,GAAO+H,GAAgBD,QAKrCE,EAHAC,GAAc,EACdC,EAAgBC,EAAQ,IACxBC,EAAsBD,EAAQ,UAyG3B,CAZgB,CACnBnI,IAAAA,EACA6C,GAAI/J,EACJuP,IAAKD,EAELE,gBAhGYC,OACRC,KACU,IAIO,GAEgB,mBAA1BD,KACezP,EAAM8C,MAAMC,MAAMmE,MACjB,CACnB7F,KAAMT,EAAasH,cACnBiE,QAASjF,EACTE,OAAQ8H,QAIDlP,EAAM8C,MAAMC,MAAMmE,GAAMuI,KACZ,CACnBpO,KAAMT,EAAauH,YACnBmC,QAASmF,EACTtD,QAASjF,EACTE,OAAQ8H,OAGF,IAEArE,SAAS8E,MACVD,EAAsB1P,EAAM8C,MAAMC,MAAMmE,QAqErDsG,oBAlEgBmC,KACF9P,KAAK8P,SAGb7B,EAAU,CAAE8B,MAAM,EAAMC,MAAO,iBAGZpI,IACb0H,IACiB1H,EAKbJ,MAAMC,QAAQ4H,KACCrP,KAAK4H,WAGZjG,MAAM,sFAKxBsO,EAAcC,GAAM,IAAM/P,EAAM8C,MAAMC,MAAMmE,KAAM,CAACpE,EAAOkN,KACxDb,KACS,CACLhD,QAASjF,EACT7F,KAAMT,EAAaqH,OACnBb,OAAQ8H,GACTpM,KAERgL,GACGmC,EAAqB,WACjBC,EAAMd,EAAce,QAAQR,GAC9BO,SACcE,OAAOF,EAAK,gBAI9BG,OACYJ,GAETA,GAyBPtD,mBAvBegD,KACK9P,KAAK8P,SACnBM,EAAqB,WACjBC,EAAMZ,EAAoBa,QAAQR,GACpCO,QACoBE,OAAOF,EAAK,WAGpCG,OACYJ,GAETA,GAaPK,oBAVMxN,MAAMC,MAAMmE,GAAO8H,MAgBzB,CACI/C,IAAK,IAAMjM,EAAM8C,MAAMC,MAAMmE,GAC7B0B,IAAM2H,OACY,IACRzN,MAAMC,MAAMmE,GAAOqJ,KACX,IATFlQ,OAAO,cAAc6G,OAejD,MAAMsJ,GAAO,OAab,YAAyBC,EAAcC,EAAYxJ,EAAKkE,EAAU,GAAI5B,EAAU,GAAIsE,SAC1E9N,EAAQC,IACR0Q,EAAkB,aACbvE,KAAchB,IAELgB,GAAcwE,GAAS,OACpB5Q,GAGRoL,EAAQgB,GAAY1L,KAAKsG,EAAOA,YAGzC+G,EAAiB,aACZE,KAAczE,IACNyE,GAAc,aACVjO,SACT8M,EAAOzF,MAAMoE,KAAK8C,WAClBsC,EAAaC,MAAQ9J,MAavB+J,EAZAC,EAAgBR,GAChBS,EAAkBT,cACPb,KACKA,aAEHA,KACKA,IAETJ,IAAI1E,SAAS8E,MAEb,CAAE7C,KAAAA,EAAM5J,KAAM+K,EAAYjH,MAAO6J,EAAYjE,MAAAA,EAAOC,QAAAA,aAIvDrD,EAAQyE,GAAYK,MAAMuC,EAAY/D,WACpC1K,QAAQ2O,GAAKG,KAAKF,GAAeG,MAAMF,SAE5CzP,WACaA,GACVA,SAEHuP,SAGT/J,EAAQoK,EAASrC,GAAO,GAAI0B,EAvMtC,SAA2BY,EAAcpK,SAE/BqK,EAAiB,GACjBxO,EAAQuO,EAAatO,MAAMkE,aACtBU,KAAO7E,IAEC6E,GAAOiJ,EAAS,CAC3B3E,IAAK,IAAMoF,EAAatO,MAAMkE,GAAIU,GAClCiB,IAAM7F,GAAWsO,EAAatO,MAAMkE,GAAIU,GAAO5E,WAGhDuO,EA8LPC,CAAkBvR,EAAM8C,MAAOoE,GAAMyJ,EAAiB5C,kBAI/CyD,eAAexK,EAAO,SAAU0J,GAEnCjC,OACMvD,SAAWmE,EAAQ9O,OAAOmH,KAAK0D,OAGnCrB,GAAGc,SAAS4G,OAEPzK,EAAOyK,EAAS,CAAEzK,MAAAA,EAAOyB,IAAKzI,EAAM0R,GAAI1R,MAAAA,EAAO8N,QAAAA,QAEnD9G,EAMX,YAAqB8G,SACX7G,GAAEA,QAAInE,UAAOsI,UAAS5B,GAAYsE,aACtB9N,SACR2R,EAAkBtB,IAElBuB,EAAgBD,IAAoB3R,KAElCA,GAAU2R,GAAmBE,EAAOzR,OAEzBJ,KAEXC,QACJsL,EAASrL,EAAU+L,IAAIjM,GACtBuL,KACS3C,IAAI5I,EAAQuL,EAAS,IAAIlD,SAEnCrB,EADA8K,EAAqBvG,EAAOU,IAAIhF,MAE/B6K,IAaIH,GAAmBE,EAAOC,EAAmB,GAAI,OAC9CC,GAAgBD,EAAmB,GAAIA,EAAmB,GAAI7K,EAAImE,EAAS5B,EAASsE,MAbvEkE,GAAU/K,EAAInE,EAAO9C,EAAM8C,MAAMC,MAAMkE,MAErD2B,IAAI3B,EAAI6K,KACPC,GAAgBD,EAAmB,GAAIA,EAAmB,GAAI7K,EAAImE,EAAS5B,EAASsE,GAGxF8D,KACQE,EAAmB,GAAI9K,IASnCyH,IAAakD,GAAmBA,EAAgBnH,MAAO,OACjDyH,EAAKN,EAAgBnH,OACb,aAAcyH,EAAKA,EAAGvH,SAAYuH,EAAGvH,SAAW,IAExD1D,EAAME,KAAOF,SAEhBA,WAGFE,IAAMD,EACRiL,EAGX,YAAwBD,EAAIC,SAClBC,EAAQ,aAAcF,EAAKA,EAAGvH,SAAYuH,EAAGvH,SAAW,GACxDzD,EAAKiL,EAAShL,WACZiL,EAAMlL,OACHA,GAAMiL,EAASD,EAAGG,SA8DjC,YAAkBF,EAAUG,UACjBhL,MAAMC,QAAQ+K,GACfA,EAAa9K,QAAO,CAAC+K,EAAS3K,OACpBA,GAAO,kBAEJ4K,GAAezB,KAAMoB,GAAUvK,IAEnC2K,IACR,IACD/R,OAAOmH,KAAK2K,GAAc9K,QAAO,CAAC+K,EAAS3K,OACjCA,GAAO,iBACLX,EAAQuL,GAAezB,KAAMoB,GAC7BM,EAAWH,EAAa1K,SAGH,mBAAb6K,EACRA,EAAS9R,KAAKoQ,KAAM9J,GACpBA,EAAMwL,IAETF,IACR,IAeX,YAAoBJ,EAAUG,UACnBhL,MAAMC,QAAQ+K,GACfA,EAAa9K,QAAO,CAAC+K,EAAS3K,OAEpBA,GAAO,YAAamF,UAEjByF,GAAezB,KAAMoB,GAAUvK,MAAQmF,IAE3CwF,IACR,IACD/R,OAAOmH,KAAK2K,GAAc9K,QAAO,CAAC+K,EAAS3K,OAEjCA,GAAO,YAAamF,UAEjByF,GAAezB,KAAMoB,GAAUG,EAAa1K,OAASmF,IAEzDwF,IACR,ICviCC,MAACG,GAAiBC,GAAY,CACxCzL,GAAI,SAEJnE,MAAO,KAAO,CACZ6P,aAAS,EACTC,aAAS,EACTC,eAAe,IAGjBrJ,QAAS,uBAGEsJ,OAAOC,eACLrN,UAIHoL,KAAKkC,qBAENF,OAAOG,eAAc,UACnBD,sDAKDL,QAAgB7B,KAAKgC,OAAOI,aAC5BC,QAAgB,cAAKC,qBAAYC,WAAWV,OAC9CQ,EAAS,OACLP,EAAUO,EAAQP,QAAQ,GAAGU,YAC9B9D,OAAO,CAAEmD,QAAAA,EAASC,QAAAA,SAEpBC,eAAgB,4BAKb/B,KAAKgC,OAAOC,eACZjC,KAAKkC,sBACJtN,SACDA,OCXd,UACE6N,QAASC,OACJC,GAAWhB,GAAgB,CAAC,YADxB,CAGPiB,OAAAA,EACAC,YAAAA,IAGF/C,SAAU4C,OACLI,GAASnB,GAAgB,CAC1B,UACA,UACA,mBAJM,CAORoB,oBACM/C,KAAK8B,QACA,GAAGe,EAAY7C,KAAK8B,QAAS,EAAG,QAAS,UAE3C,0EArCJkB,MAAM,mDACuBC,ICbvB,q2CDKRxO,SACCuO,MAAK,mKAWPE,EAEO,2LEfb,MAAMC,GAAU,CAACC,EAAeC,OAErBC,EAAGF,gBAAkBA,GACrBE,EAAGD,kBAAoBA,EAIrBE,GAAqB3B,GAAY,CAC5CzL,GAAI,eAGJqN,eAAe,EAEfxR,MAAO,KAAO,CACZyR,YAAa,KAGf/K,QAAS,wBACgB2K,SAEfD,EADczB,KACcE,WAEf7B,KAAKyD,YACrBC,KAAKP,GAAQC,EAAeC,iBAOzBM,EAAW3D,KAAK4D,kBAAkBP,KACjCM,EAAU,yBAGI,YAFAA,EAASxJ,OAAO0J,KAEL,OAGxB7D,KAAKgC,OAAO8B,aAAaT,OAG3BxM,QAAYmJ,KAAKgC,OAAO+B,oBAAoBV,OAE3CxM,EAAK,OACF3D,QAAiByQ,EAASK,qBAC1B9Q,EAAS+Q,mBAAmBpN,SAI/B6H,QAAQ1M,MACLyR,YAAY1U,KAAK,CAAEqU,cAAAA,EAAeC,gBAAAA,EAAiBxM,IAAAA,WAGtD,OAECA,SADiB8M,EAASK,oBACXE,YAAYrN,SAG5B6H,QAAQ1M,MACLyR,YAAY1U,KAAK,CAAEqU,cAAAA,EAAeC,gBAAAA,EAAiBxM,IAAAA,SAK/DkM,iBAAiBM,SACTrB,EAASL,KAETvC,EAAMY,KAAKyD,YACdU,UAAUhB,GAAQnB,EAAOH,QAASwB,SAEjCjE,QAECV,QAAQ1M,MACLyR,YAAYnE,OAAOF,EAAK,OAIlC2D,cAAcM,SACNrB,EAASL,KACT2B,EAAKtD,KAAKyD,YACbC,KAAKP,GAAQnB,EAAOH,QAASwB,iBACzBC,WAAIzM,QCpDjB,UACEuN,MAAO,CACLf,gBAAiB,CACf9S,KAAM8T,OACNC,UAAU,IAId5N,UACS,CACL6N,KAAM,CACJjB,GAAI,IAENkB,eAAe,IAInB/B,QAAS/E,GACPkF,OAAAA,EAEAG,cACOiB,iBAAiBhE,KAAKqD,sBACtBoB,aAGP1B,MACO/C,KAAKuE,KAAKjB,UACVoB,cAAc1E,KAAKqD,gBAAiBrD,KAAKuE,KAAKjB,SAC9CmB,cAGP1B,cACO4B,iBAAiB3E,KAAKqD,kBAG7BN,gBACOyB,eAAgB,GAGvBzB,iBACOwB,KAAKjB,GAAK,QACVkB,eAAgB,IAGpB7B,GAAWY,GAAoB,CAChC,mBACA,mBACA,mBAIJzD,SAAU4C,OACLI,GAASS,GAAoB,CAC9B,iBAFM,CAKRR,iBACS/C,KAAK4E,cAAc5E,KAAKqD,4FAtF5BxM,IAAK,uDACqBoM,ICJpB,8tEDSNpM,IAAK,2BAILA,IAAK,wIARRgO,GACAC,EAA8C,6CAAjCrQ,iBAA6BsQ,6GAenC7B,mHAJH8B,sHAGFC,eAAuB1U,sBAAgCwU,6FAVJ7B,mBAAxCzO,mBAAoC,mIETvD,MAAMyQ,GAAS,GAMFC,GAAe,EAAGjP,MAAAA,EAAO8G,QAAAA,UAI/BkI,GAAOpU,SAASoF,EAAME,WACY,IAA1B4G,EAAQwG,eACdxG,EAAQwG,cAAgB,OAEvB9M,EAAO0O,aAAaC,QAXX,iBAaX3O,MACIyD,OAASjI,KAAKC,MAAMuE,MAGtBgG,YAAY/F,iBACH2O,QAlBA,gBAkBoBpT,KAAK6G,UAAU7C,EAAMiE,eAGjDpL,KAAKmH,EAAME,OClBtB,YAAiCD,EAAIoP,SAC7BlC,gBACJA,QACArR,WACAwT,UACAC,OACA5B,GACE0B,SAaG3D,GAZO,CACZzL,GAAAA,EACAnE,MAAO,IAAO0L,GACZ2F,gBAAAA,EACAQ,KAAAA,GACG7R,GAEL0G,QAASgF,OACJ8H,GACAC,KAOF,YAAwBtP,EAAIkN,EAAiBqC,UAE3CC,GAAwBxP,EADnByP,EAAevC,EAAiBqC,IAMvC,YAA8BvP,EAAIkN,EAAiBqC,UAEjDC,GAAwBxP,EADnB0P,EAAqBxC,EAAiBqC,IAKxC,MAACI,GAAW,GAQZ,MAACC,GAAmB,EAAG7P,MAAAA,OANnC,SAAoBA,eAC6B,IAAjCA,EAAMiE,OAAOkJ,sBACS,IAAtBnN,EAAMiE,OAAO0J,MAKvBmC,CAAW9P,KAAW4P,GAAS5P,EAAME,UAC9BF,EAAMiE,OAAOkJ,iBAAmBnN,ICvCvC+P,GAAe,CACnBlD,QAAQpL,EAAUqF,SACVgF,OAAEA,aAAQM,QAAYpT,GAAU8N,IAGlCkJ,UAAU,aAAcC,MACxBD,UAAU,oBAAqBE,MAG7BC,KAAI,EAAGnQ,MAAAA,QACL8L,OAASA,EAASzD,EAAQyD,QAAU,IACpCM,WAAaA,EAAa/D,EAAQ+D,QAAc,IAChDsB,kBAAoBrF,EAAQuH,SAE9BO,IAAIlB,MACJkB,IAAIN,MACNM,IAAInX,iBAKVoX,EACAC,EACAC,UAGO,IAAInV,SAAgBL,MAAOM,EAASC,eAIjCoG,EAAM8O,EAAUF,GAChBrX,ETyjBZ,iBAGU8C,EAAQ0U,EAAI,QACdC,EACA1N,EAAK,SAEH2N,EAAgB,GAChB1X,EAAQqP,EAAQ,CAClBwE,QAAQpL,KACEiJ,GAAK+F,EAAWhP,IAClBkP,QAAQvX,EAAaJ,KACrB4X,OAAOC,iBAAiBzF,OAASpS,EACjCyO,MAGezO,KAEL6K,SAASiN,GAAW/N,EAAGlK,KAAKiY,MAE9CjE,IAAIiE,UACKL,IAIE5X,KAAKiY,KAHMjY,KAAKiY,GAKhBhH,MAEX/G,GAAAA,EAEA2H,GAAI+F,EACJ3U,MAAAA,WAIA2L,MACM0I,IAAIY,IAEP/X,EShmBSgY,GACRlK,EAAU,CACdmK,QAAS,QAILnF,QAAeoF,IACf9E,QAAmB+E,EAAiBf,EAAKgB,QAAStF,KAGpDqE,IAAIJ,GAAc,CAAEjE,OAAAA,EAAQM,WAAAA,EAAYpT,MAAAA,UAKtCqY,EAAc5F,GAAezS,MAChBA,GAGfsX,KACO7O,EAAKzI,EAAO8N,KAInBwK,MAAMxK,EAAQmK,eAGZI,EAAYE,SAGV,CAAE9P,IAAAA,EAAKzI,MAAAA,EAAO8N,QAAAA,UAEfpI,KACAA"}